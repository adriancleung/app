{"version":3,"sources":["../node_modules/grommet/es6/components/FocusedContainer.js","../node_modules/grommet/es6/utils/refs.js","../node_modules/grommet/es6/utils/DOM.js","../node_modules/grommet/es6/utils/PortalContext.js","../node_modules/grommet/es6/components/Tip/Tip.js","../node_modules/grommet/es6/components/Button/StyledButton.js","../node_modules/grommet/es6/components/Button/StyledButtonKind.js","../node_modules/grommet/es6/components/Button/Button.js","../node_modules/grommet/es6/components/Drop/StyledDrop.js","../node_modules/grommet/es6/components/Drop/DropContainer.js","../node_modules/grommet/es6/components/Drop/Drop.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","isNotAncestorOf","child","parent","contains","FocusedContainer","_ref","_ref$hidden","hidden","_ref$restrictScroll","restrictScroll","children","trapFocus","rest","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","_useState","useState","bodyOverflowStyle","setBodyOverflowStyle","ref","useRef","useEffect","timer","setTimeout","current","getBodyChildElements","filter","forEach","makeNodeUnfocusable","document","body","style","overflow","handleTrapFocus","makeNodeFocusable","removeTrap","clearTimeout","React","createElement","useForwardedRef","innerRef","findScrollParent","element","horizontal","result","parentNode","getBoundingClientRect","rect","width","scrollWidth","height","scrollHeight","tagName","toLowerCase","documentTags","findScrollParents","push","includes","excludeMatch","node","test","getNewContainer","targetChildPosition","container","prepend","appendChild","setFocusWithoutScroll","x","window","scrollX","y","scrollY","focus","scrollTo","hasAttribute","setAttribute","elements","getElementsByTagName","Array","prior","getAttribute","removeAttribute","autoFocusingTags","match","findVisibleParent","offsetParent","parentElement","isNodeAfterScroll","bottom","top","isNodeBeforeScroll","PortalContext","createContext","undefined","Tip","forwardRef","tipRef","content","dropProps","plain","theme","useContext","ThemeContext","over","setOver","componentRef","Children","count","isValidElement","only","cloneElement","onMouseOver","onMouseLeave","onFocus","onBlur","callerRef","Drop","tip","drop","Box","displayName","TipWrapper","radiusStyle","props","isIconOnly","hasIcon","hasLabel","size","sizeProp","button","border","radius","basicStyle","css","normalizeColor","colorValue","color","pad","vertical","padding","padStyle","data","text","fontStyle","hoverStyle","hoverIndicator","getHoverIndicatorStyle","active","primary","getHoverColor","StyledButton","styled","withConfig","componentId","genericStyles","plainStyle","backgroundStyle","extend","primaryStyle","disabled","activeStyle","activeButtonStyle","disabledStyle","opacity","disabledButtonStyle","focusIndicator","focusStyle","transition","properties","join","duration","timing","fillContainer","global","edgeSize","small","defaultProps","setPrototypeOf","StyledButtonKind","_ref2","themePaths","styles","base","themePath","obj","parts","split","shift","kindPartStyles","hover","partStyles","kindStyle","align","_ref3","themishObj","background","hoverIndicatorStyle","getIconColor","paths","colorProp","index","objColor","backgroundAndTextColors","Button","a11yTitle","_ref$align","icon","_ref$focusIndicator","_ref$gap","gap","fill","href","kindArg","kind","label","_onBlur","onClick","_onFocus","onMouseOut","reverse","secondary","selected","_ref$type","type","as","setFocus","_useState2","setHover","console","warn","useMemo","onMouseOverButton","event","onMouseOutButton","buttonIcon","iconColor","colors","backgroundColor","normalizeBackground","control","colorIsDark","isDarkBackground","contents","styledButtonResult","domTag","first","second","direction","justify","responsive","ButtonWrapper","dropKeyFrames","keyframes","StyledDrop","div","baseStyle","zIndex","right","getTransformOriginStyle","alignProp","preventLayerClose","keyCode","which","stopPropagation","defaultAlign","left","defaultPortalContext","DropContainer","dropTarget","elevation","onClickOutside","onEsc","onKeyDown","_ref$overflow","restrictFocus","_ref$stretch","stretch","portalContext","portalId","nextPortalContext","concat","dropRef","scrollParents","place","preserveHeight","windowWidth","innerWidth","windowHeight","innerHeight","maxHeight","targetRect","containerRect","Math","min","max","percentVisibleAreaBelow","parseMetricToNum","addScrollListeners","scrollParent","addEventListener","removeScrollListeners","removeEventListener","onClickDocument","clickedPortalId","attr","parseInt","onResize","shadowSize","tabIndex","dark","backgroundIsDark","Provider","value","Keyboard","_ref$trapFocus","originalFocusedElement","setOriginalFocusedElement","activeElement","dropContainer","setDropContainer","containerTarget","ContainerTargetContext","removeChild","createPortal","dir","DropWrapper"],"mappings":"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","file":"static/js/1.4491223d.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { getBodyChildElements, makeNodeFocusable, makeNodeUnfocusable } from '../utils';\n\nvar isNotAncestorOf = function isNotAncestorOf(child) {\n  return function (parent) {\n    return !parent.contains(child);\n  };\n};\n\nexport var FocusedContainer = function FocusedContainer(_ref) {\n  var _ref$hidden = _ref.hidden,\n      hidden = _ref$hidden === void 0 ? false : _ref$hidden,\n      _ref$restrictScroll = _ref.restrictScroll,\n      restrictScroll = _ref$restrictScroll === void 0 ? false : _ref$restrictScroll,\n      children = _ref.children,\n      trapFocus = _ref.trapFocus,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"hidden\", \"restrictScroll\", \"children\", \"trapFocus\"]);\n\n  var _useState = useState(''),\n      bodyOverflowStyle = _useState[0],\n      setBodyOverflowStyle = _useState[1];\n\n  var ref = useRef(null);\n  useEffect(function () {\n    var removeTrap = function removeTrap() {\n      var child = ref.current;\n      getBodyChildElements().filter(isNotAncestorOf(child)).forEach(makeNodeFocusable);\n\n      if (restrictScroll) {\n        document.body.style.overflow = bodyOverflowStyle;\n      }\n    };\n\n    var handleTrapFocus = function handleTrapFocus() {\n      var child = ref.current;\n      getBodyChildElements().filter(isNotAncestorOf(child)).forEach(makeNodeUnfocusable);\n\n      if (restrictScroll && bodyOverflowStyle !== 'hidden') {\n        setBodyOverflowStyle(document.body.style.overflow);\n        document.body.style.overflow = 'hidden';\n      }\n    };\n\n    var timer = setTimeout(function () {\n      if (!hidden && trapFocus) {\n        handleTrapFocus();\n      }\n    }, 0);\n    return function () {\n      removeTrap();\n      clearTimeout(timer);\n    };\n  }, [hidden, bodyOverflowStyle, restrictScroll, trapFocus]);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref,\n    \"aria-hidden\": hidden\n  }, rest), children);\n};","import { useEffect, useRef } from 'react'; // https://medium.com/the-non-traditional-developer/how-to-use-the-forwarded-ref-in-react-1fb108f4e6af\n\nexport var useForwardedRef = function useForwardedRef(ref) {\n  var innerRef = useRef(null);\n  useEffect(function () {\n    if (!ref) return;\n\n    if (typeof ref === 'function') {\n      ref(innerRef.current);\n    } else {\n      // eslint-disable-next-line no-param-reassign\n      ref.current = innerRef.current;\n    }\n  });\n  return innerRef;\n};","export var findScrollParent = function findScrollParent(element, horizontal) {\n  var result;\n\n  if (element) {\n    var parent = element.parentNode;\n\n    while (!result && parent && parent.getBoundingClientRect) {\n      var rect = parent.getBoundingClientRect(); // 10px is to account for borders and scrollbars in a lazy way\n\n      if (horizontal) {\n        if (rect.width && parent.scrollWidth > rect.width + 10) {\n          result = parent;\n        }\n      } else if (rect.height && parent.scrollHeight > rect.height + 10) {\n        result = parent;\n      }\n\n      parent = parent.parentNode;\n    } // last scrollable element will be the document\n    // if nothing else is scrollable in the page\n\n\n    if (!result) {\n      result = document;\n    } else if (result.tagName.toLowerCase() === 'body') {\n      result = document;\n    }\n  }\n\n  return result;\n};\nvar documentTags = ['html', 'body'];\nexport var findScrollParents = function findScrollParents(element, horizontal) {\n  var result = [];\n\n  if (element) {\n    var parent = element.parentNode;\n\n    while (parent && parent.getBoundingClientRect) {\n      var rect = parent.getBoundingClientRect(); // 10px is to account for borders and scrollbars in a lazy way\n\n      if (horizontal) {\n        if (rect.width && parent.scrollWidth > rect.width + 10) {\n          result.push(parent);\n        }\n      } else if (rect.height && parent.scrollHeight > rect.height + 10) {\n        result.push(parent);\n      }\n\n      parent = parent.parentNode;\n    } // last scrollable element will be the document\n    // if nothing else is scrollable in the page\n\n\n    if (result.length === 0) {\n      result.push(document);\n    } else if (documentTags.includes(result[0].tagName.toLowerCase())) {\n      result.length = 0;\n      result.push(document);\n    }\n  }\n\n  return result;\n};\nexport var containsFocus = function containsFocus(node) {\n  var element = document.activeElement;\n\n  while (element) {\n    if (element === node) break;\n    element = element.parentElement;\n  }\n\n  return !!element;\n};\nexport var getFirstFocusableDescendant = function getFirstFocusableDescendant(element) {\n  var children = element.getElementsByTagName('*');\n\n  for (var i = 0; i < children.length; i += 1) {\n    var child = children[i];\n    var tagName = child.tagName.toLowerCase();\n\n    if (tagName === 'input' || tagName === 'select') {\n      return child;\n    }\n  }\n\n  return undefined;\n};\nexport var getBodyChildElements = function getBodyChildElements() {\n  var excludeMatch = /^(script|link)$/i;\n  var children = [];\n  [].forEach.call(document.body.children, function (node) {\n    if (!excludeMatch.test(node.tagName)) {\n      children.push(node);\n    }\n  });\n  return children;\n};\nexport var getNewContainer = function getNewContainer(target, targetChildPosition) {\n  if (target === void 0) {\n    target = document.body;\n  }\n\n  // setup DOM\n  var container = document.createElement('div');\n\n  if (targetChildPosition === 'first') {\n    // for SkipLinks\n    target.prepend(container);\n  } else {\n    target.appendChild(container);\n  }\n\n  return container;\n};\nexport var setFocusWithoutScroll = function setFocusWithoutScroll(element) {\n  var x = window.scrollX;\n  var y = window.scrollY;\n  element.focus();\n  window.scrollTo(x, y);\n};\nvar TABINDEX = 'tabindex';\nvar TABINDEX_STATE = 'data-g-tabindex';\nexport var makeNodeFocusable = function makeNodeFocusable(node) {\n  // do not touch aria live containers so that announcements work\n  if (!node.hasAttribute('aria-live')) {\n    node.setAttribute('aria-hidden', false); // allow children to receive focus again\n\n    var elements = node.getElementsByTagName('*'); // only reset elements we've changed in makeNodeUnfocusable()\n\n    Array.prototype.filter.call(elements || [], function (element) {\n      return element.hasAttribute(TABINDEX_STATE);\n    }).forEach(function (element) {\n      var prior = element.getAttribute(TABINDEX_STATE);\n\n      if (prior >= 0) {\n        element.setAttribute(TABINDEX, element.getAttribute(TABINDEX_STATE));\n      } else if (prior === 'none') {\n        element.removeAttribute(TABINDEX);\n      }\n\n      element.removeAttribute(TABINDEX_STATE);\n    });\n  }\n};\nvar autoFocusingTags = /(a|area|input|select|textarea|button|iframe)$/;\nexport var makeNodeUnfocusable = function makeNodeUnfocusable(node) {\n  // do not touch aria live containers so that announcements work\n  if (!node.hasAttribute('aria-live')) {\n    node.setAttribute('aria-hidden', true); // prevent children to receive focus\n\n    var elements = node.getElementsByTagName('*'); // first, save off the tabIndex of any element with one\n\n    Array.prototype.filter.call(elements || [], function (element) {\n      return element.getAttribute(TABINDEX) !== null;\n    }).forEach(function (element) {\n      element.setAttribute(TABINDEX_STATE, element.getAttribute(TABINDEX));\n      element.setAttribute(TABINDEX, -1);\n    }); // then, if any element is inherently focusable and not handled above,\n    // give it a tabIndex of -1 so it can't receive focus\n\n    Array.prototype.filter.call(elements || [], function (element) {\n      var currentTag = element.tagName.toLowerCase();\n      return currentTag.match(autoFocusingTags) && element.focus && element.getAttribute(TABINDEX_STATE) === null;\n    }).forEach(function (element) {\n      element.setAttribute(TABINDEX_STATE, 'none');\n      element.setAttribute(TABINDEX, -1);\n    });\n  }\n};\nexport var findVisibleParent = function findVisibleParent(element) {\n  if (element) {\n    // Get the closest ancestor element that is positioned.\n    return element.offsetParent ? element : findVisibleParent(element.parentElement) || element;\n  }\n\n  return undefined;\n};\nexport var isNodeAfterScroll = function isNodeAfterScroll(node, target) {\n  var _node$getBoundingClie = node.getBoundingClientRect(),\n      bottom = _node$getBoundingClie.bottom; // target will be the document from findScrollParent()\n\n\n  var _ref = target.getBoundingClientRect ? target.getBoundingClientRect() : {\n    height: 0,\n    top: 0\n  },\n      height = _ref.height,\n      top = _ref.top;\n\n  return bottom >= top + height;\n};\nexport var isNodeBeforeScroll = function isNodeBeforeScroll(node, target) {\n  var _node$getBoundingClie2 = node.getBoundingClientRect(),\n      top = _node$getBoundingClie2.top; // target will be the document from findScrollParent()\n\n\n  var _ref2 = target.getBoundingClientRect ? target.getBoundingClientRect() : {\n    top: 0\n  },\n      targetTop = _ref2.top;\n\n  return top <= targetTop;\n};","import React from 'react';\nexport var PortalContext = /*#__PURE__*/React.createContext(undefined);","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { Children, cloneElement, forwardRef, useContext, useState } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { Box } from '../Box';\nimport { Drop } from '../Drop';\nimport { useForwardedRef } from '../../utils/refs';\nvar Tip = /*#__PURE__*/forwardRef(function (_ref, tipRef) {\n  var children = _ref.children,\n      content = _ref.content,\n      dropProps = _ref.dropProps,\n      plain = _ref.plain;\n  var theme = useContext(ThemeContext);\n\n  var _useState = useState(false),\n      over = _useState[0],\n      setOver = _useState[1];\n\n  var componentRef = useForwardedRef(tipRef); // In cases the child is a primitive\n\n  var wrapInvalidElement = function wrapInvalidElement() {\n    // Handle the use case of a primitive string child\n    // so we'll be able to assign ref and events on the child.\n    return ! /*#__PURE__*/React.isValidElement(children) ? /*#__PURE__*/React.createElement(\"span\", null, children) : children;\n  };\n  /* Three use case for children\n    1. Tip has a single child + it is a React Element => Great!\n    2. Tip has a single child +  not React Element => span will wrap the child.\n    3. Tip has more than one child => Abort, display Children.only error \n  */\n\n\n  var child = Children.count(children) === 1 ? wrapInvalidElement() : Children.only(children);\n  var clonedChild = /*#__PURE__*/cloneElement(child, {\n    onMouseOver: function onMouseOver() {\n      return setOver(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setOver(false);\n    },\n    onFocus: function onFocus() {\n      return setOver(true);\n    },\n    onBlur: function onBlur() {\n      return setOver(false);\n    },\n    key: 'tip-child',\n    ref: function ref(node) {\n      // https://github.com/facebook/react/issues/8873#issuecomment-287873307\n      if (typeof componentRef === 'function') {\n        componentRef(node);\n      } else if (componentRef) {\n        // eslint-disable-next-line no-param-reassign\n        componentRef.current = node;\n      } // Call the original ref, if any\n\n\n      var callerRef = child.ref;\n\n      if (typeof callerRef === 'function') {\n        callerRef(node);\n      } else if (callerRef) {\n        callerRef.current = node;\n      }\n    }\n  });\n  return [clonedChild, over && /*#__PURE__*/React.createElement(Drop, _extends({\n    target: componentRef.current,\n    trapFocus: false,\n    key: \"tip-drop\",\n    plain: true\n  }, theme.tip.drop, dropProps), plain ? content : /*#__PURE__*/React.createElement(Box, theme.tip.content, content))];\n});\nTip.displayName = 'Tip';\nvar TipDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  TipDoc = require('./doc').doc(Tip);\n}\n\nvar TipWrapper = TipDoc || Tip;\nexport { TipWrapper as Tip };","import styled, { css } from 'styled-components';\nimport { activeStyle, backgroundStyle, disabledStyle, focusStyle, genericStyles, getHoverIndicatorStyle, normalizeColor } from '../../utils';\nimport { defaultProps } from '../../default-props';\n\nvar radiusStyle = function radiusStyle(props) {\n  // border.radius shouldn't impact an only-icon rendering.\n  var isIconOnly = props.hasIcon && !props.hasLabel;\n  var size = props.sizeProp;\n\n  if (!isIconOnly && size && props.theme.button.size && props.theme.button.size[size]) {\n    return props.theme.button.size[size].border.radius;\n  }\n\n  return props.theme.button.border.radius;\n};\n\nvar fontStyle = function fontStyle(props) {\n  var size = props.sizeProp || 'medium';\n  var data = props.theme.text[size];\n  return css([\"font-size:\", \";line-height:\", \";\"], data.size, data.height);\n};\n\nvar padStyle = function padStyle(props) {\n  var size = props.sizeProp;\n\n  if (size && props.theme.button.size && props.theme.button.size[size]) {\n    return css([\"\", \" \", \"\"], props.theme.button.size[size].pad.vertical, props.theme.button.size[size].pad.horizontal);\n  }\n\n  return css([\"\", \" \", \"\"], props.theme.button.padding.vertical, props.theme.button.padding.horizontal);\n};\n\nvar basicStyle = function basicStyle(props) {\n  return css([\"border:\", \" solid \", \";border-radius:\", \";color:\", \";padding:\", \";\", \"\"], props.theme.button.border.width, normalizeColor(props.colorValue || props.theme.button.border.color || 'control', props.theme), radiusStyle(props), normalizeColor(props.theme.button.color || 'text', props.theme), padStyle(props), fontStyle(props));\n};\n\nvar primaryStyle = function primaryStyle(props) {\n  return css([\"\", \" border-radius:\", \";\", \"\"], backgroundStyle(normalizeColor(props.colorValue || props.theme.button.primary && props.theme.button.primary.color || 'control', props.theme), props.theme, props.theme.button.color), radiusStyle(props), props.theme.button.primary && props.theme.button.primary.extend);\n};\n\nfunction getHoverColor(props) {\n  if (props.colorValue) {\n    return normalizeColor(props.colorValue, props.theme);\n  }\n\n  if (props.active && props.primary && props.theme.button.primary && props.theme.button.primary.active && props.theme.button.primary.active.border && props.theme.button.primary.active.border.color) {\n    return normalizeColor(props.theme.button.primary.active.border.color, props.theme);\n  }\n\n  return normalizeColor(props.theme.button.border.color || 'control', props.theme);\n}\n\nvar hoverStyle = css([\"&:hover{\", \" \", \";}\"], function (props) {\n  return props.hoverIndicator && getHoverIndicatorStyle(props.hoverIndicator, props.theme);\n}, function (props) {\n  return !props.plain && css([\"box-shadow:0px 0px 0px 2px \", \";\"], getHoverColor(props));\n});\n\nvar fillStyle = function fillStyle(fillContainer) {\n  if (fillContainer === 'horizontal') {\n    return 'width: 100%;';\n  }\n\n  if (fillContainer === 'vertical') {\n    return 'height: 100%;';\n  }\n\n  if (fillContainer) {\n    return \"\\n      width: 100%;\\n      height: 100%;\\n      max-width: none;\\n      flex: 1 0 auto;\\n    \";\n  }\n\n  return undefined;\n};\n\nvar plainStyle = function plainStyle(props) {\n  return css([\"color:\", \";outline:none;border:none;padding:0;text-align:inherit;\"], normalizeColor(props.colorValue || 'inherit', props.theme));\n};\n\nvar activeButtonStyle = function activeButtonStyle(props) {\n  return css([\"\", \" \", \" \", \"\"], activeStyle, props.primary && props.theme.button.primary && props.theme.button.primary.active && props.theme.button.primary.active.border && props.theme.button.primary.active.border.color && \"border: \" + props.theme.button.border.width + \" solid\\n    \" + normalizeColor(props.theme.button.primary.active.border.color, props.theme) + \";\\n    \", props.primary && props.theme.button.primary && props.theme.button.primary.active && props.theme.button.primary.active.extend);\n};\n\nvar disabledButtonStyle = function disabledButtonStyle(props) {\n  return css([\"\", \" \", \" \", \" \", \"\"], disabledStyle(props.theme.button.disabled.opacity), !props.plain && props.theme.button.disabled.border && props.theme.button.disabled.border.color && \"border: \" + props.theme.button.border.width + \" solid\\n    \" + normalizeColor(props.theme.button.disabled.border.color, props.theme) + \";\", props.theme.button.disabled.color && ( // if primary button, apply disabled color to background. otherwise,\n  // apply disabled color to the label\n  props.primary ? backgroundStyle(normalizeColor(props.theme.button.disabled.color, props.theme), props.theme, props.theme.button.color) : \"color: \" + normalizeColor(props.theme.button.disabled.color, props.theme) + \";\"), props.theme.button.disabled && props.theme.button.disabled.extend);\n}; // Deprecate props.theme.button.disabled.opacity in V3\n\n\nvar StyledButton = styled.button.withConfig({\n  displayName: \"StyledButton\",\n  componentId: \"sc-323bzc-0\"\n})([\"display:inline-block;box-sizing:border-box;cursor:pointer;font:inherit;text-decoration:none;margin:0;background:transparent;overflow:visible;text-transform:none;\", \" \", \" \", \" \", \" \", \" \", \" \", \" &:focus{\", \"}\", \" \", \" \", \" \", \" \", \"\"], genericStyles, function (props) {\n  return props.plain && plainStyle(props);\n}, function (props) {\n  return !props.plain && basicStyle(props);\n}, function (props) {\n  return props.primary && primaryStyle(props);\n}, function (props) {\n  return !props.disabled && !props.focus && hoverStyle;\n}, function (props) {\n  return !props.disabled && props.active && activeButtonStyle(props);\n}, function (props) {\n  return props.disabled && props.theme.button && props.theme.button.disabled && disabledButtonStyle(props);\n}, function (props) {\n  return (!props.plain || props.focusIndicator) && focusStyle();\n}, function (props) {\n  return !props.plain && props.theme.button.transition && \"\\n    transition-property: \" + props.theme.button.transition.properties.join(',') + \";\\n    transition-duration: \" + props.theme.button.transition.duration + \"s;\\n    transition-timing-function: \" + props.theme.button.transition.timing + \";\\n  \";\n}, function (props) {\n  return props.fillContainer && fillStyle(props.fillContainer);\n}, function (props) {\n  return props.hasIcon && !props.hasLabel && \"\\n    line-height: 0;\\n  \";\n}, function (props) {\n  return props.pad && props.hasIcon && !props.hasLabel && \"\\n    padding: \" + props.theme.global.edgeSize.small + \";\\n  \";\n}, function (props) {\n  return props.theme.button && props.theme.button.extend;\n});\nStyledButton.defaultProps = {};\nObject.setPrototypeOf(StyledButton.defaultProps, defaultProps);\nexport { StyledButton };","import styled, { css } from 'styled-components';\nimport { activeStyle, disabledStyle, focusStyle, genericStyles, kindPartStyles } from '../../utils';\nimport { defaultProps } from '../../default-props';\n\nvar radiusStyle = function radiusStyle(props) {\n  var size = props.sizeProp;\n  if (size && props.theme.button.size && props.theme.button.size[size]) return css([\"border-radius:\", \";\"], props.theme.button.size[size].border.radius);\n  if (props.theme.button.border && props.theme.button.border.radius) return css([\"border-radius:\", \";\"], props.theme.button.border.radius);\n  return '';\n};\n\nvar fontStyle = function fontStyle(props) {\n  var size = props.sizeProp || 'medium';\n  var data = props.theme.text[size];\n  return css([\"font-size:\", \";line-height:\", \";\"], data.size, data.height);\n};\n\nvar padStyle = function padStyle(_ref) {\n  var size = _ref.sizeProp,\n      theme = _ref.theme;\n\n  if (size && theme.button.size && theme.button.size[size] && theme.button.size[size].pad) {\n    return css([\"padding:\", \" \", \";\"], theme.button.size[size].pad.vertical, theme.button.size[size].pad.horizontal);\n  }\n\n  if (theme.button.padding) {\n    return css([\"padding:\", \" \", \";\"], theme.global.edgeSize[theme.button.padding.vertical] || theme.button.padding.vertical, theme.global.edgeSize[theme.button.padding.horizontal] || theme.button.padding.horizontal);\n  }\n\n  return '';\n}; // The > svg rule is to ensure Buttons with just an icon don't add additional\n// vertical height internally.\n\n\nvar basicStyle = function basicStyle(props) {\n  return css([\"border:none;\", \";\", \" \", \" > svg{vertical-align:bottom;}\"], radiusStyle(props), padStyle(props), fontStyle(props));\n}; // build up CSS from basic to specific based on the supplied sub-object paths\n\n\nvar kindStyle = function kindStyle(_ref2) {\n  var colorValue = _ref2.colorValue,\n      themePaths = _ref2.themePaths,\n      theme = _ref2.theme;\n  var styles = [];\n  themePaths.base.forEach(function (themePath) {\n    var obj = theme.button;\n\n    if (themePath) {\n      var parts = themePath.split('.');\n\n      while (obj && parts.length) {\n        obj = obj[parts.shift()];\n      }\n    }\n\n    if (obj) {\n      styles.push(kindPartStyles(obj, theme, colorValue));\n    }\n  });\n  themePaths.hover.forEach(function (themePath) {\n    var obj = theme.button;\n\n    if (themePath) {\n      var parts = themePath.split('.');\n\n      while (obj && parts.length) {\n        obj = obj[parts.shift()];\n      }\n\n      if (obj) {\n        var partStyles = kindPartStyles(obj, theme);\n        if (partStyles.length > 0) styles.push(css([\"&:hover{\", \"}\"], partStyles));\n      }\n    }\n  });\n  return styles;\n};\n\nvar hoverIndicatorStyle = function hoverIndicatorStyle(_ref3) {\n  var hoverIndicator = _ref3.hoverIndicator,\n      theme = _ref3.theme;\n  var themishObj = {};\n  if (hoverIndicator === true || hoverIndicator === 'background') themishObj.background = theme.global.hover.background;else themishObj.background = hoverIndicator;\n  var styles = kindPartStyles(themishObj, theme);\n  if (styles.length > 0) return css([\"&:hover{\", \"}\"], styles);\n  return '';\n};\n\nvar fillStyle = function fillStyle(fillContainer) {\n  if (fillContainer === 'horizontal') {\n    return 'width: 100%;';\n  }\n\n  if (fillContainer === 'vertical') {\n    return 'height: 100%;';\n  }\n\n  if (fillContainer) {\n    return \"\\n      width: 100%;\\n      height: 100%;\\n      max-width: none;\\n      flex: 1 0 auto;\\n    \";\n  }\n\n  return undefined;\n}; // The > svg rule is to ensure Buttons with just an icon don't add additional\n// vertical height internally.\n\n\nvar plainStyle = function plainStyle() {\n  return css([\"outline:none;border:none;padding:0;text-align:inherit;color:inherit;> svg{vertical-align:bottom;}\"]);\n};\n\nvar StyledButtonKind = styled.button.withConfig({\n  displayName: \"StyledButtonKind\",\n  componentId: \"sc-1vhfpnt-0\"\n})([\"display:inline-block;box-sizing:border-box;cursor:pointer;font:inherit;text-decoration:none;margin:0;background:transparent;overflow:visible;text-transform:none;\", \" \", \" \", \" \", \" \", \" \", \" \", \" \", \" &:focus{\", \"}\", \" \", \" \", \"\"], genericStyles, function (props) {\n  return props.plain && plainStyle(props);\n}, function (props) {\n  return !props.disabled && props.active && activeStyle;\n}, function (props) {\n  return !props.plain && basicStyle(props);\n}, function (props) {\n  return !props.plain && kindStyle(props);\n}, function (props) {\n  return !props.plain && props.align && \"\\n    text-align: \" + props.align + \";\\n    \";\n}, function (props) {\n  return !props.disabled && props.hoverIndicator && hoverIndicatorStyle(props);\n}, function (props) {\n  return props.disabled && disabledStyle(props.theme.button.disabled.opacity);\n}, function (props) {\n  return (!props.plain || props.focusIndicator) && focusStyle();\n}, function (props) {\n  return !props.plain && props.theme.button.transition && \"\\n    transition-property: \" + props.theme.button.transition.properties.join(',') + \";\\n    transition-duration: \" + props.theme.button.transition.duration + \"s;\\n    transition-timing-function: \" + props.theme.button.transition.timing + \";\\n  \";\n}, function (props) {\n  return props.fillContainer && fillStyle(props.fillContainer);\n}, function (props) {\n  return props.theme.button && props.theme.button.extend;\n});\nStyledButtonKind.defaultProps = {};\nObject.setPrototypeOf(StyledButtonKind.defaultProps, defaultProps);\nexport { StyledButtonKind };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { cloneElement, Children, forwardRef, useContext, useMemo, useState } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { backgroundAndTextColors, colorIsDark, normalizeBackground, normalizeColor } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { Tip } from '../Tip';\nimport { StyledButton } from './StyledButton';\nimport { StyledButtonKind } from './StyledButtonKind'; // We have two Styled* components to separate\n// the newer default|primary|secondary approach,\n// which we use the term \"kind\" to refer to,\n// from the previous approach. Hopefully, when we get to grommet v3,\n// we can drop the old way and just use kind.\n//\n// In the kind approach, we rely on the basic structure of the theme\n// being repeated. For example: button.default, button.active,\n// button.active.default all refer to a similar object containing\n// { background, border, color, padding }.\n// This allows us to use the same code to evaluate color and generate CSS.\n// We just need to build up CSS, since selectors override previous ones.\n// See StyledButtonKind.kindStyles() for this.\n// And we build down to determine icon color, once we have a color from\n// the latest applicable state, we can stop. See Button.getIconColor() for this.\n// backgroundAndTextColor() is used in both cases to ensure we are determining\n// color in the same way, so the icon and label align.\n// only when default is in the theme\n// Used to get the color for the icon to match what StyledButtonKind\n// and backgroundStyle() will do for the label.\n// The paths are ordered from basic to specific. Go through them\n// specific to base until we find one that has a color and use that.\n\nvar getIconColor = function getIconColor(paths, theme, colorProp) {\n  if (paths === void 0) {\n    paths = [];\n  }\n\n  var result = [];\n  var index = paths.length - 1; // stop when we have a color or no more paths\n\n  while (index >= 0 && !result[1]) {\n    var obj = theme.button; // find the sub-object under the button them that corresponds with this path\n    // for example: 'active.primary'\n\n    if (paths[index]) {\n      var parts = paths[index].split('.');\n\n      while (obj && parts.length) {\n        obj = obj[parts.shift()];\n      }\n    }\n\n    if (obj) {\n      // use passed in color for background if the theme has a background color\n      var background = colorProp && obj.background && obj.background.color ? colorProp : obj.background; // if theme object explicitly sets the color to undefined, pass false\n      // to indicate that the theme doesn't want any text color\n\n      var objColor = obj.color || (Object.prototype.hasOwnProperty.call(obj, 'color') && obj.color === undefined ? false : undefined); // use passed in color for text if the theme doesn't have\n      // background or border color\n\n      var color = colorProp && (!obj.background || !obj.background.color) && (!obj.border || !obj.border.color) ? colorProp : objColor;\n      result = backgroundAndTextColors(background, color, theme);\n    }\n\n    index -= 1;\n  }\n\n  return result[1] || undefined;\n};\n\nvar Button = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n      active = _ref.active,\n      _ref$align = _ref.align,\n      align = _ref$align === void 0 ? 'center' : _ref$align,\n      color = _ref.color,\n      children = _ref.children,\n      disabled = _ref.disabled,\n      icon = _ref.icon,\n      _ref$focusIndicator = _ref.focusIndicator,\n      focusIndicator = _ref$focusIndicator === void 0 ? true : _ref$focusIndicator,\n      _ref$gap = _ref.gap,\n      gap = _ref$gap === void 0 ? 'small' : _ref$gap,\n      fill = _ref.fill,\n      href = _ref.href,\n      kindArg = _ref.kind,\n      label = _ref.label,\n      _onBlur = _ref.onBlur,\n      onClick = _ref.onClick,\n      _onFocus = _ref.onFocus,\n      onMouseOut = _ref.onMouseOut,\n      onMouseOver = _ref.onMouseOver,\n      plain = _ref.plain,\n      primary = _ref.primary,\n      reverse = _ref.reverse,\n      secondary = _ref.secondary,\n      selected = _ref.selected,\n      size = _ref.size,\n      tip = _ref.tip,\n      _ref$type = _ref.type,\n      type = _ref$type === void 0 ? 'button' : _ref$type,\n      as = _ref.as,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"a11yTitle\", \"active\", \"align\", \"color\", \"children\", \"disabled\", \"icon\", \"focusIndicator\", \"gap\", \"fill\", \"href\", \"kind\", \"label\", \"onBlur\", \"onClick\", \"onFocus\", \"onMouseOut\", \"onMouseOver\", \"plain\", \"primary\", \"reverse\", \"secondary\", \"selected\", \"size\", \"tip\", \"type\", \"as\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n\n  var _useState = useState(),\n      focus = _useState[0],\n      setFocus = _useState[1];\n\n  var _useState2 = useState(false),\n      hover = _useState2[0],\n      setHover = _useState2[1];\n\n  if ((icon || label) && children) {\n    console.warn('Button should not have children if icon or label is provided');\n  } // if the theme has button.default, what kind of Button is this\n\n\n  var kind = useMemo(function () {\n    if (theme.button[\"default\"]) {\n      if (kindArg) return kindArg;\n      if (primary) return 'primary';\n      if (secondary) return 'secondary';\n      return 'default';\n    }\n\n    return undefined; // pre-default, no kind\n  }, [kindArg, primary, secondary, theme.button[\"default\"]]); // When we have a kind and are not plain, themePaths stores the relative\n  // paths within the theme for the current kind and state of the button.\n  // These paths are used with getIconColor() above and kindStyle() within\n  // StyledButtonKind.\n\n  var themePaths = useMemo(function () {\n    if (!kind || plain) return undefined;\n    var result = {\n      base: [],\n      hover: []\n    };\n    result.base.push(kind);\n\n    if (selected) {\n      result.base.push('selected');\n      if (kind) result.base.push(\"selected.\" + kind);\n    }\n\n    if (disabled) {\n      result.base.push('disabled');\n      if (kind) result.base.push(\"disabled.\" + kind);\n    } else {\n      if (active) {\n        result.base.push('active');\n        if (kind) result.base.push(\"active.\" + kind);\n      }\n\n      result.hover.push('hover');\n      if (kind) result.hover.push(\"hover.\" + kind);\n\n      if (active) {\n        result.hover.push(\"hover.active\");\n\n        if (kind) {\n          result.hover.push(\"hover.active.\" + kind);\n        }\n      }\n    }\n\n    return result;\n  }, [active, disabled, kind, plain, selected]); // only used when theme does not have button.default\n\n  var isDarkBackground = function isDarkBackground() {\n    var backgroundColor = normalizeBackground(normalizeColor(color || theme.button.primary && theme.button.primary.color || theme.global.colors.control || 'brand', theme), theme);\n    return colorIsDark(backgroundColor, theme);\n  };\n\n  var onMouseOverButton = function onMouseOverButton(event) {\n    setHover(true);\n\n    if (onMouseOver) {\n      onMouseOver(event);\n    }\n  };\n\n  var onMouseOutButton = function onMouseOutButton(event) {\n    setHover(false);\n\n    if (onMouseOut) {\n      onMouseOut(event);\n    }\n  };\n\n  var buttonIcon = icon; // only change color if user did not specify the color themselves...\n\n  if (icon && !icon.props.color) {\n    if (kind) {\n      if (!plain) {\n        // match what the label will use\n        var iconColor = hover && getIconColor(themePaths.hover, theme) || getIconColor(themePaths.base, theme, color);\n        if (iconColor) buttonIcon = /*#__PURE__*/cloneElement(icon, {\n          color: iconColor\n        });\n      }\n    } else if (primary) {\n      buttonIcon = /*#__PURE__*/cloneElement(icon, {\n        color: theme.global.colors.text[isDarkBackground() ? 'dark' : 'light']\n      });\n    }\n  }\n\n  var domTag = !as && href ? 'a' : as;\n  var first = reverse ? label : buttonIcon;\n  var second = reverse ? buttonIcon : label;\n  var contents;\n\n  if (first && second) {\n    contents = /*#__PURE__*/React.createElement(Box, {\n      direction: \"row\",\n      align: \"center\",\n      justify: align === 'center' ? 'center' : 'between',\n      gap: gap,\n      responsive: false\n    }, first, second);\n  } else if (typeof children === 'function') {\n    contents = children({\n      disabled: disabled,\n      hover: hover,\n      focus: focus\n    });\n  } else {\n    contents = first || second || children;\n  }\n\n  var styledButtonResult;\n\n  if (kind) {\n    styledButtonResult = /*#__PURE__*/React.createElement(StyledButtonKind, _extends({}, rest, {\n      as: domTag,\n      ref: ref,\n      active: active,\n      align: align,\n      \"aria-label\": a11yTitle,\n      colorValue: color,\n      disabled: disabled,\n      gap: gap,\n      fillContainer: fill,\n      focus: focus,\n      focusIndicator: focusIndicator,\n      href: href,\n      kind: kind,\n      themePaths: themePaths,\n      onClick: onClick,\n      onFocus: function onFocus(event) {\n        setFocus(true);\n        if (_onFocus) _onFocus(event);\n      },\n      onBlur: function onBlur(event) {\n        setFocus(false);\n        if (_onBlur) _onBlur(event);\n      },\n      onMouseOver: onMouseOverButton,\n      onMouseOut: onMouseOutButton,\n      plain: plain || Children.count(children) > 0,\n      primary: primary,\n      sizeProp: size,\n      type: !href ? type : undefined\n    }), contents);\n  } else {\n    styledButtonResult = /*#__PURE__*/React.createElement(StyledButton, _extends({}, rest, {\n      as: domTag,\n      ref: ref,\n      \"aria-label\": a11yTitle,\n      colorValue: color,\n      active: active,\n      selected: selected,\n      disabled: disabled,\n      hasIcon: !!icon,\n      gap: gap,\n      hasLabel: !!label,\n      fillContainer: fill,\n      focus: focus,\n      focusIndicator: focusIndicator,\n      href: href,\n      kind: kind,\n      themePaths: themePaths,\n      onClick: onClick,\n      onFocus: function onFocus(event) {\n        setFocus(true);\n        if (_onFocus) _onFocus(event);\n      },\n      onBlur: function onBlur(event) {\n        setFocus(false);\n        if (_onBlur) _onBlur(event);\n      },\n      onMouseOver: onMouseOverButton,\n      onMouseOut: onMouseOutButton,\n      pad: !plain,\n      plain: typeof plain !== 'undefined' ? plain : Children.count(children) > 0 || icon && !label,\n      primary: primary,\n      sizeProp: size,\n      type: !href ? type : undefined\n    }), contents);\n  }\n\n  if (tip) {\n    if (typeof tip === 'string') {\n      return /*#__PURE__*/React.createElement(Tip, {\n        content: tip\n      }, styledButtonResult);\n    }\n\n    return /*#__PURE__*/React.createElement(Tip, tip, styledButtonResult);\n  }\n\n  return styledButtonResult;\n});\nButton.displayName = 'Button';\nvar ButtonDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  ButtonDoc = require('./doc').doc(Button);\n}\n\nvar ButtonWrapper = ButtonDoc || Button;\nexport { ButtonWrapper as Button };","import styled, { keyframes } from 'styled-components';\nimport { baseStyle } from '../../utils';\nimport { backgroundStyle } from '../../utils/background';\nimport { defaultProps } from '../../default-props';\n\nfunction getTransformOriginStyle(align) {\n  var vertical = 'top';\n\n  if (align.bottom) {\n    vertical = 'bottom';\n  }\n\n  var horizontal = 'left';\n\n  if (align.right) {\n    horizontal = 'right';\n  }\n\n  return vertical + \" \" + horizontal;\n}\n\nvar dropKeyFrames = keyframes([\"0%{opacity:0.5;transform:scale(0.8);}100%{opacity:1;transform:scale(1);}\"]);\nvar StyledDrop = styled.div.withConfig({\n  displayName: \"StyledDrop\",\n  componentId: \"sc-16s5rx8-0\"\n})([\"\", \" border-radius:\", \";position:fixed;z-index:\", \";outline:none;\", \" opacity:0;transform-origin:\", \";animation:\", \" 0.1s forwards;animation-delay:0.01s;@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){display:flex;align-items:stretch;}\", \"\"], baseStyle, function (props) {\n  return props.theme.global.drop.border.radius;\n}, function (props) {\n  return props.theme.global.drop.zIndex;\n}, function (props) {\n  return !props.plain && backgroundStyle(props.theme.global.drop.background, props.theme);\n}, function (props) {\n  return getTransformOriginStyle(props.alignProp);\n}, dropKeyFrames, function (props) {\n  return props.theme.global.drop && props.theme.global.drop.extend;\n});\nStyledDrop.defaultProps = {};\nObject.setPrototypeOf(StyledDrop.defaultProps, defaultProps);\nexport { StyledDrop };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef, useContext, useEffect, useMemo, useRef } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { FocusedContainer } from '../FocusedContainer';\nimport { backgroundIsDark, findScrollParents, parseMetricToNum, PortalContext } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { Keyboard } from '../Keyboard';\nimport { StyledDrop } from './StyledDrop'; // using react synthetic event to be able to stop propagation that\n// would otherwise close the layer on ESC.\n\nvar preventLayerClose = function preventLayerClose(event) {\n  var key = event.keyCode ? event.keyCode : event.which;\n\n  if (key === 27) {\n    event.stopPropagation();\n  }\n};\n\nvar defaultAlign = {\n  top: 'top',\n  left: 'left'\n};\nvar defaultPortalContext = [];\nvar DropContainer = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$align = _ref.align,\n      align = _ref$align === void 0 ? defaultAlign : _ref$align,\n      children = _ref.children,\n      dropTarget = _ref.dropTarget,\n      elevation = _ref.elevation,\n      onClickOutside = _ref.onClickOutside,\n      onEsc = _ref.onEsc,\n      onKeyDown = _ref.onKeyDown,\n      _ref$overflow = _ref.overflow,\n      overflow = _ref$overflow === void 0 ? 'auto' : _ref$overflow,\n      plain = _ref.plain,\n      responsive = _ref.responsive,\n      restrictFocus = _ref.restrictFocus,\n      _ref$stretch = _ref.stretch,\n      stretch = _ref$stretch === void 0 ? 'width' : _ref$stretch,\n      trapFocus = _ref.trapFocus,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"align\", \"children\", \"dropTarget\", \"elevation\", \"onClickOutside\", \"onEsc\", \"onKeyDown\", \"overflow\", \"plain\", \"responsive\", \"restrictFocus\", \"stretch\", \"trapFocus\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  var portalContext = useContext(PortalContext) || defaultPortalContext;\n  var portalId = useMemo(function () {\n    return portalContext.length;\n  }, [portalContext]);\n  var nextPortalContext = useMemo(function () {\n    return [].concat(portalContext, [portalId]);\n  }, [portalContext, portalId]);\n  var dropRef = useRef();\n  useEffect(function () {\n    // We try to preserve the maxHeight as changing it causes any scroll\n    // position to be lost. We set the maxHeight on mount and if the window\n    // is resized.\n    var place = function place(preserveHeight) {\n      var windowWidth = window.innerWidth;\n      var windowHeight = window.innerHeight;\n      var target = dropTarget;\n      var container = (ref || dropRef).current;\n\n      if (container && target) {\n        // clear prior styling\n        container.style.left = '';\n        container.style.top = '';\n        container.style.bottom = '';\n        container.style.width = '';\n\n        if (!preserveHeight) {\n          container.style.maxHeight = '';\n        } // get bounds\n\n\n        var targetRect = target.getBoundingClientRect();\n        var containerRect = container.getBoundingClientRect(); // determine width\n\n        var width;\n\n        if (stretch) {\n          width = Math.min(stretch === 'align' ? Math.min(targetRect.width, containerRect.width) : Math.max(targetRect.width, containerRect.width), windowWidth);\n        } else {\n          width = Math.min(containerRect.width, windowWidth);\n        } // set left position\n\n\n        var left;\n\n        if (align.left) {\n          if (align.left === 'left') {\n            left = targetRect.left;\n          } else if (align.left === 'right') {\n            left = targetRect.left + targetRect.width;\n          }\n        } else if (align.right) {\n          if (align.right === 'left') {\n            left = targetRect.left - width;\n          } else if (align.right === 'right') {\n            left = targetRect.left + targetRect.width - width;\n          }\n        } else {\n          left = targetRect.left + targetRect.width / 2 - width / 2;\n        }\n\n        if (left + width > windowWidth) {\n          left -= left + width - windowWidth;\n        } else if (left < 0) {\n          left = 0;\n        } // set top or bottom position\n\n\n        var top;\n        var bottom;\n        var maxHeight = containerRect.height;\n\n        if (align.top) {\n          if (align.top === 'top') {\n            top = targetRect.top;\n          } else {\n            top = targetRect.bottom;\n          } // Calculate visible area underneath the control w.r.t window height\n\n\n          var percentVisibleAreaBelow = 100 - targetRect.bottom / windowHeight * 100; // Check whether it is within 20% from bottom of the window or\n          // visible area to flip the control\n          // DropContainer doesn't fit well within visible area when\n          // percentVisibleAreaBelow value<=20%\n          // There is enough space from DropContainer to bottom of the window\n          // when percentVisibleAreaBelow>20%.\n\n          if (windowHeight === top || percentVisibleAreaBelow <= 20) {\n            // We need more room than we have.\n            // We put it below, but there's more room above, put it above\n            top = '';\n\n            if (align.top === 'bottom') {\n              bottom = targetRect.top;\n            } else {\n              bottom = targetRect.bottom;\n            }\n\n            maxHeight = bottom;\n            container.style.maxHeight = maxHeight + \"px\";\n          } else if (top > 0) {\n            maxHeight = windowHeight - top;\n            container.style.maxHeight = maxHeight + \"px\";\n          } else {\n            maxHeight = windowHeight - top;\n          }\n        } else if (align.bottom) {\n          if (align.bottom === 'bottom') {\n            bottom = targetRect.bottom;\n          } else {\n            bottom = targetRect.top;\n          }\n\n          maxHeight = bottom;\n          container.style.maxHeight = maxHeight + \"px\";\n        } else {\n          // center\n          top = targetRect.top + targetRect.height / 2 - containerRect.height / 2;\n          maxHeight = windowHeight - top;\n        } // if we can't fit it all, or we're rather close,\n        // see if there's more room the other direction\n\n\n        if (responsive && (containerRect.height > maxHeight || maxHeight < windowHeight / 10)) {\n          // We need more room than we have.\n          if (align.top && top > windowHeight / 2) {\n            // We put it below, but there's more room above, put it above\n            top = '';\n\n            if (align.top === 'bottom') {\n              // top = Math.max(targetRect.top - containerRect.height, 0);\n              // maxHeight = targetRect.top - top;\n              bottom = targetRect.top;\n            } else {\n              // top = Math.max(targetRect.bottom - containerRect.height, 0);\n              // maxHeight = targetRect.bottom - top;\n              bottom = targetRect.bottom;\n            }\n\n            maxHeight = bottom;\n          } else if (align.bottom && maxHeight < windowHeight / 2) {\n            // We put it above but there's more room below, put it below\n            bottom = '';\n\n            if (align.bottom === 'bottom') {\n              top = targetRect.top;\n            } else {\n              top = targetRect.bottom;\n            }\n\n            maxHeight = windowHeight - top;\n          }\n        }\n\n        container.style.left = left + \"px\";\n\n        if (stretch) {\n          // offset width by 0.1 to avoid a bug in ie11 that\n          // unnecessarily wraps the text if width is the same\n          // NOTE: turned off for now\n          container.style.width = width + 0.1 + \"px\";\n        } // the (position:absolute + scrollTop)\n        // is presenting issues with desktop scroll flickering\n\n\n        if (top !== '') {\n          container.style.top = top + \"px\";\n        }\n\n        if (bottom !== '') {\n          container.style.bottom = windowHeight - bottom + \"px\";\n        }\n\n        if (!preserveHeight) {\n          if (theme.drop && theme.drop.maxHeight) {\n            maxHeight = Math.min(maxHeight, parseMetricToNum(theme.drop.maxHeight));\n          }\n\n          container.style.maxHeight = maxHeight + \"px\";\n        }\n      }\n    };\n\n    var scrollParents;\n\n    var addScrollListeners = function addScrollListeners() {\n      scrollParents = findScrollParents(dropTarget);\n      scrollParents.forEach(function (scrollParent) {\n        return scrollParent.addEventListener('scroll', place);\n      });\n    };\n\n    var removeScrollListeners = function removeScrollListeners() {\n      scrollParents.forEach(function (scrollParent) {\n        return scrollParent.removeEventListener('scroll', place);\n      });\n      scrollParents = [];\n    };\n\n    var onClickDocument = function onClickDocument(event) {\n      // determine which portal id the target is in, if any\n      var clickedPortalId = null;\n      var node = event.target;\n\n      while (clickedPortalId === null && node !== document) {\n        var attr = node.getAttribute('data-g-portal-id');\n        if (attr !== null) clickedPortalId = parseInt(attr, 10);\n        node = node.parentNode;\n      }\n\n      if (clickedPortalId === null || portalContext.indexOf(clickedPortalId) !== -1) {\n        onClickOutside(event);\n      }\n    };\n\n    var onResize = function onResize() {\n      removeScrollListeners();\n      addScrollListeners();\n      place(false);\n    };\n\n    addScrollListeners();\n    window.addEventListener('resize', onResize);\n\n    if (onClickOutside) {\n      document.addEventListener('mousedown', onClickDocument);\n    }\n\n    place(false);\n    return function () {\n      removeScrollListeners();\n      window.removeEventListener('resize', onResize);\n\n      if (onClickOutside) {\n        document.removeEventListener('mousedown', onClickDocument);\n      }\n    };\n  }, [align, dropTarget, onClickOutside, portalContext, portalId, ref, responsive, restrictFocus, stretch, theme.drop]);\n  useEffect(function () {\n    if (restrictFocus) {\n      (ref || dropRef).current.focus();\n    }\n  }, [ref, restrictFocus]);\n  var content = /*#__PURE__*/React.createElement(StyledDrop, _extends({\n    ref: ref || dropRef,\n    as: Box,\n    plain: plain,\n    elevation: !plain ? elevation || theme.global.drop.shadowSize || 'small' : undefined,\n    tabIndex: \"-1\",\n    alignProp: align,\n    overflow: overflow,\n    \"data-g-portal-id\": portalId\n  }, rest), children);\n\n  if (theme.global.drop.background) {\n    var dark = backgroundIsDark(theme.global.drop.background, theme);\n\n    if (dark !== undefined && dark !== theme.dark) {\n      content = /*#__PURE__*/React.createElement(ThemeContext.Provider, {\n        value: _extends({}, theme, {\n          dark: dark\n        })\n      }, content);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(PortalContext.Provider, {\n    value: nextPortalContext\n  }, /*#__PURE__*/React.createElement(FocusedContainer, {\n    onKeyDown: onEsc && preventLayerClose,\n    trapFocus: trapFocus\n  }, /*#__PURE__*/React.createElement(Keyboard, {\n    onEsc: onEsc ? function (event) {\n      event.stopPropagation();\n      onEsc(event);\n    } : undefined,\n    onKeyDown: onKeyDown,\n    target: \"document\"\n  }, content)));\n});\nexport { DropContainer };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef, useEffect, useState, useContext } from 'react';\nimport { createPortal } from 'react-dom';\nimport { ThemeContext } from 'styled-components';\nimport { defaultProps } from '../../default-props';\nimport { getNewContainer, setFocusWithoutScroll } from '../../utils';\nimport { DropContainer } from './DropContainer';\nimport { ContainerTargetContext } from '../../contexts/ContainerTargetContext';\nvar Drop = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var restrictFocus = _ref.restrictFocus,\n      dropTarget = _ref.target,\n      _ref$trapFocus = _ref.trapFocus,\n      trapFocus = _ref$trapFocus === void 0 ? true : _ref$trapFocus,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"restrictFocus\", \"target\", \"trapFocus\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n\n  var _useState = useState(),\n      originalFocusedElement = _useState[0],\n      setOriginalFocusedElement = _useState[1];\n\n  useEffect(function () {\n    return setOriginalFocusedElement(document.activeElement);\n  }, []);\n\n  var _useState2 = useState(),\n      dropContainer = _useState2[0],\n      setDropContainer = _useState2[1];\n\n  var containerTarget = useContext(ContainerTargetContext);\n  useEffect(function () {\n    return setDropContainer(getNewContainer(containerTarget));\n  }, [containerTarget]); // just a few things to clean up when the Drop is unmounted\n\n  useEffect(function () {\n    return function () {\n      if (restrictFocus && originalFocusedElement) {\n        if (originalFocusedElement.focus) {\n          setFocusWithoutScroll(originalFocusedElement);\n        } else if (originalFocusedElement.parentNode && originalFocusedElement.parentNode.focus) {\n          // required for IE11 and Edge\n          setFocusWithoutScroll(originalFocusedElement.parentNode);\n        }\n      }\n\n      if (dropContainer) {\n        containerTarget.removeChild(dropContainer);\n      }\n    };\n  }, [containerTarget, dropContainer, originalFocusedElement, restrictFocus]);\n  return dropContainer ? /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(DropContainer, _extends({\n    ref: ref,\n    dir: theme && theme.dir,\n    dropTarget: dropTarget,\n    restrictFocus: restrictFocus,\n    trapFocus: trapFocus\n  }, rest)), dropContainer) : null;\n});\nDrop.displayName = 'Drop';\nvar DropDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  DropDoc = require('./doc').doc(Drop); // eslint-disable-line global-require\n}\n\nvar DropWrapper = DropDoc || Drop;\nexport { DropWrapper as Drop };"],"sourceRoot":""}