{"version":3,"sources":["../node_modules/grommet/es6/components/Form/FormContext.js","../node_modules/grommet/es6/components/Form/Form.js","../node_modules/grommet/es6/components/CheckBox/StyledCheckBox.js","../node_modules/grommet/es6/components/CheckBox/CheckBox.js","../node_modules/grommet/es6/components/CheckBoxGroup/StyledCheckBoxGroup.js","../node_modules/grommet/es6/components/CheckBoxGroup/CheckBoxGroup.js","../node_modules/grommet/es6/components/RadioButton/StyledRadioButton.js","../node_modules/grommet/es6/components/RadioButton/RadioButton.js","../node_modules/grommet/es6/components/RadioButtonGroup/RadioButtonGroup.js","../node_modules/grommet/es6/components/InfiniteScroll/InfiniteScroll.js","../node_modules/grommet/es6/contexts/AnnounceContext/AnnounceContext.js","../node_modules/grommet/es6/components/TextInput/StyledTextInput.js","../node_modules/grommet/es6/components/TextInput/TextInput.js","../node_modules/grommet/es6/components/FormField/FormField.js"],"names":["FormContext","React","createContext","useFormField","_ref","error","info","useFormInput","_","valueProp","initialValue","_useState","useState","undefined","value","setValue","nextValue","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","defaultMessages","invalid","required","defaultValue","defaultTouched","defaultValidationResults","errors","infos","validate","validations","omitValid","nextErrors","nextInfos","forEach","name","validation","result","status","message","Form","forwardRef","_ref2","ref","children","_ref2$errors","errorsProp","_ref2$infos","infosProp","_ref2$messages","messages","onChange","_onReset","onReset","_onSubmit","onSubmit","onValidate","_ref2$validate","validateOn","rest","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","valueState","setValueState","useMemo","_useState2","touched","setTouched","_useState3","validationResults","setValidationResults","useEffect","useRef","prevValidationResults","_validate","entries","current","filter","_ref3","n","createElement","event","persist","adjustedEvent","preventDefault","_validate3","nextValidationResults","Provider","_ref4","errorArg","infoArg","validateArg","validateSingle","aValidate","value2","data","regexp","test","Array","isArray","some","inForm","onBlur","_validate2","_ref5","componentValue","_useState4","inputValue","setInputValue","formValue","prevValue","nextComponentValue","nextTouched","displayName","FormWrapper","hoverStyle","css","props","normalizeColor","theme","checkBox","hover","border","color","StyledCheckBoxIcon","styled","svg","withConfig","componentId","check","thickness","icon","size","extend","defaultProps","setPrototypeOf","StyledCheckBoxContainer","label","disabled","StyledCheckBoxInput","input","toggle","StyledCheckBoxBox","div","focus","focusStyle","StyledCheckBoxToggle","span","width","radius","background","StyledCheckBoxKnob","dark","knob","StyledCheckBox","stopLabelClick","type","stopPropagation","CheckBox","a11yTitle","checkedProp","checked","focusProp","id","_onBlur","_onChange","_onFocus","onFocus","reverse","indeterminate","useContext","ThemeContext","_formContext$useFormI","setChecked","setFocus","console","warn","hidden","themeableProps","_theme$checkBox$icons","icons","CheckedIcon","IndeterminateIcon","borderColor","visual","as","Box","align","justify","height","round","viewBox","preserveAspectRatio","fill","d","side","checkBoxNode","margin","gap","removeUndefined","normalizedLabel","first","second","htmlFor","onClick","CheckBoxWrapper","StyledCheckBoxGroup","checkBoxGroup","container","CheckBoxGroup","disabledProp","labelKey","valueKey","optionsProp","options","formContext","map","option","onCheckBoxChange","optionValue","JSON","parse","stringify","optionIndex","push","splice","valueOption","optionProps","StyledRadioButtonContainer","radioButton","StyledRadioButtonInput","StyledRadioButtonLabel","font","weight","StyledRadioButtonIcon","StyledRadioButtonBox","StyledRadioButton","RadioButton","setHover","Icon","circle","onMouseEnter","onMouseLeave","flex","right","cx","cy","r","RadioButtonWrapper","RadioButtonGroup","o","optionRefs","valueIndex","index","onNext","onPrevious","setTimeout","Keyboard","onUp","onDown","onLeft","onRight","radioButtonGroup","optionDisabled","optionRest","aRef","state","RadioButtonGroupWrapper","InfiniteScrollWrapper","_ref$items","items","onMore","renderMarker","replace","showProp","show","_ref$step","step","setShow","lastPage","Math","floor","renderPageBounds","setRenderPageBounds","pageHeights","setPageHeights","pendingLength","setPendingLength","aboveMarkerRef","belowMarkerRef","scrollParents","timer","evaluate","top","scrollParent","document","documentElement","scrollTop","body","window","innerHeight","getBoundingClientRect","offset","nextBeginPage","pagesHeight","nextEndPage","max","showPage","min","debounce","clearTimeout","findScrollParents","sp","addEventListener","removeEventListener","useLayoutEffect","showIndex","showNode","parentNode","item","findScrollParent","isNodeBeforeScroll","scrollIntoView","isNodeAfterScroll","rendered","nextPageHeights","lastBottom","topIndex","bottomIndex","bottom","concat","_nextPageHeights","aboveHeight","belowHeight","firstIndex","lastIndex","marker","cloneElement","slice","child","_marker","renderedMarker","node","AnnounceContext","mode","timeout","announcer","querySelector","style","left","position","insertBefore","firstChild","createAnnouncer","setAttribute","innerHTML","StyledTextInput","inputStyle","plain","plainInputStyle","global","edgeSize","large","disabledStyle","textInput","opacity","textAlign","textAlignStyle","StyledTextInputContainer","StyledPlaceholder","parseMetricToNum","getInputPadBySide","control","placeholder","StyledIcon","StyledSuggestions","ol","suggestions","renderLabel","suggestion","stringLabel","ContainerBox","dropHeight","sizeStyle","defaultDropAlign","enterSelect","suggestionsCount","suggestionsExist","suggestionIsOpen","TextInput","_ref$dropAlign","dropAlign","dropTarget","dropProps","_ref$messages","onKeyDown","onSelect","onSuggestionSelect","onSuggestionsClose","onSuggestionsOpen","readOnly","announce","inputRef","useForwardedRef","dropRef","suggestionsRef","suggestionRefs","showDrop","setShowDrop","handleSuggestionSelect","handleTextSelect","activeSuggestionIndex","setActiveSuggestionIndex","selectedSuggestionIndex","setSelectedSuggestionIndex","suggestionValues","buttonNode","optionsNode","scrollTo","offsetTop","drop","openDrop","useCallback","closeDrop","onNextSuggestion","nextActiveIndex","onPreviousSuggestion","showStyledPlaceholder","extraProps","onEnter","Drop","responsive","onClickOutside","onEsc","overflow","InfiniteScroll","select","itemRef","renderedLabel","button","pad","Button","active","kind","hoverIndicator","onMouseOver","nativeEvent","stopImmediatePropagation","onTab","autoComplete","TextInputWrapper","grommetInputNames","grommetInputPadNames","FormFieldBox","justBorder","formField","FormFieldContentBox","StyledMessageContainer","messageType","Message","containerProps","messageContent","Text","direction","Input","comp","component","InputComponent","focusIndicator","FormField","className","contentProps","errorProp","help","infoProp","_formContext$useFormF","contextOnBlur","formFieldTheme","themeBorder","wantContentPad","contents","Children","containerRest","themeContentProps","content","abut","abutMargin","labelStyle","outerBackground","outerStyle","innerProps","mergedMargin","horizontal","borderSize","zIndex","outerProps","Fragment","FormFieldWrapper"],"mappings":"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","file":"static/js/2.258d3343.chunk.js","sourcesContent":["import React, { useState } from 'react'; // When not a descendant of a Form, FormContext still provides a basic\n// useFormInput. It doesn't do anything for components like TextInput.\n// But, it does store the value for components like CheckBox or Select\n// where the grommet component needs to know the value in order to\n// render custom visuals.\n\nvar useFormInput = function useFormInput(_, valueProp, initialValue) {\n  var _useState = useState(valueProp !== undefined ? valueProp : initialValue),\n      value = _useState[0],\n      setValue = _useState[1];\n\n  return [valueProp !== undefined ? valueProp : value, function (nextValue) {\n    if (initialValue !== undefined) setValue(nextValue);\n  }];\n};\n\nvar useFormField = function useFormField(_ref) {\n  var error = _ref.error,\n      info = _ref.info;\n  return {\n    error: error,\n    info: info\n  };\n};\n\nexport var FormContext = /*#__PURE__*/React.createContext({\n  useFormField: useFormField,\n  useFormInput: useFormInput\n});","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef, useEffect, useMemo, useRef, useState } from 'react';\nimport { FormContext } from './FormContext';\nvar defaultMessages = {\n  invalid: 'invalid',\n  required: 'required'\n};\nvar defaultValue = {};\nvar defaultTouched = {};\nvar defaultValidationResults = {\n  errors: {},\n  infos: {}\n}; // validations is an array from Object.entries()\n\nvar validate = function validate(validations, value, omitValid) {\n  var nextErrors = {};\n  var nextInfos = {};\n  validations.forEach(function (_ref) {\n    var name = _ref[0],\n        validation = _ref[1];\n\n    if (!omitValid) {\n      nextErrors[name] = undefined;\n      nextInfos[name] = undefined;\n    }\n\n    var result = validation(value[name], value); // typeof error === 'object' is implied for both cases of error with\n    // a status message and for an error object that is a react node\n\n    if (typeof result === 'object') {\n      if (result.status === 'info') {\n        nextInfos[name] = result.message;\n      } else {\n        nextErrors[name] = result.message || result; // could be a node\n      }\n    } else if (typeof result === 'string') {\n      nextErrors[name] = result;\n    }\n  });\n  return [nextErrors, nextInfos];\n};\n\nvar Form = /*#__PURE__*/forwardRef(function (_ref2, ref) {\n  var children = _ref2.children,\n      _ref2$errors = _ref2.errors,\n      errorsProp = _ref2$errors === void 0 ? defaultValidationResults.errors : _ref2$errors,\n      _ref2$infos = _ref2.infos,\n      infosProp = _ref2$infos === void 0 ? defaultValidationResults.infos : _ref2$infos,\n      _ref2$messages = _ref2.messages,\n      messages = _ref2$messages === void 0 ? defaultMessages : _ref2$messages,\n      onChange = _ref2.onChange,\n      _onReset = _ref2.onReset,\n      _onSubmit = _ref2.onSubmit,\n      onValidate = _ref2.onValidate,\n      _ref2$validate = _ref2.validate,\n      validateOn = _ref2$validate === void 0 ? 'submit' : _ref2$validate,\n      valueProp = _ref2.value,\n      rest = _objectWithoutPropertiesLoose(_ref2, [\"children\", \"errors\", \"infos\", \"messages\", \"onChange\", \"onReset\", \"onSubmit\", \"onValidate\", \"validate\", \"value\"]);\n\n  var _useState = useState(valueProp || defaultValue),\n      valueState = _useState[0],\n      setValueState = _useState[1];\n\n  var value = useMemo(function () {\n    return valueProp || valueState;\n  }, [valueProp, valueState]);\n\n  var _useState2 = useState(defaultTouched),\n      touched = _useState2[0],\n      setTouched = _useState2[1];\n\n  var _useState3 = useState(defaultValidationResults),\n      validationResults = _useState3[0],\n      setValidationResults = _useState3[1];\n\n  useEffect(function () {\n    return setValidationResults({\n      errors: errorsProp,\n      infos: infosProp\n    });\n  }, [errorsProp, infosProp]);\n  var validations = useRef({}); // clear any errors when value changes\n\n  useEffect(function () {\n    setValidationResults(function (prevValidationResults) {\n      var _validate = validate(Object.entries(validations.current).filter(function (_ref3) {\n        var n = _ref3[0];\n        return prevValidationResults.errors[n] || prevValidationResults.infos[n];\n      }), value),\n          nextErrors = _validate[0],\n          nextInfos = _validate[1];\n\n      return {\n        errors: _extends({}, prevValidationResults.errors, nextErrors),\n        infos: _extends({}, prevValidationResults.infos, nextInfos)\n      };\n    });\n  }, [touched, value]); // There are three basic patterns of handling form input value state:\n  //\n  // 1 - form controlled\n  //\n  // In this model, the caller sets `value` and `onChange` properties\n  // on the Form component to supply the values used by the input fields.\n  // In useFormContext(), componentValue would be undefined and formValue\n  // is be set to whatever the form state has. Whenever the form state\n  // changes, we update the contextValue so the input component will use\n  // that. When the input component changes, we will call update() to\n  // update the form state.\n  //\n  // 2 - input controlled\n  //\n  // In this model, the caller sets `value` and `onChange` properties\n  // on the input components, like TextInput, to supply the value for it.\n  // In useFormContext(), componentValue is this value and we ensure to\n  // update the form state, via update(), and set the contextValue from\n  // the componentValue. When the input component changes, we will\n  // call update() to update the form state.\n  //\n  // 3 - uncontrolled\n  //\n  // In this model, the caller doesn't set a `value` or `onChange` property\n  // at either the form or input component levels.\n  // In useFormContext(), componentValue is undefined and valueProp is\n  // undefined and nothing much happens here. That is, unless the\n  // calling component needs to know the state in order to work, such\n  // as CheckBox or Select. In this case, those components supply\n  // an initialValue, which will trigger updating the contextValue so\n  // they can have access to it.\n  //\n\n  var useFormInput = function useFormInput(name, componentValue, initialValue) {\n    var _useState4 = useState(initialValue),\n        inputValue = _useState4[0],\n        setInputValue = _useState4[1];\n\n    var formValue = name ? value[name] : undefined; // This effect is for pattern #2, where the controlled input\n    // component is driving the value via componentValue.\n\n    useEffect(function () {\n      if (name && // we have somewhere to put this\n      componentValue !== undefined && // input driving\n      componentValue !== formValue // don't already have it\n      ) {\n          setValueState(function (prevValue) {\n            var nextValue = _extends({}, prevValue);\n\n            nextValue[name] = componentValue;\n            return nextValue;\n          }); // don't onChange on programmatic changes\n        }\n    }, [componentValue, formValue, name]);\n    var useValue;\n    if (componentValue !== undefined) // input component drives, pattern #2\n      useValue = componentValue;else if (valueProp && name && formValue !== undefined) // form drives, pattern #1\n      useValue = formValue;else if (formValue === undefined) // form has reset, so reset input value as well\n      useValue = initialValue;else useValue = inputValue;\n    return [useValue, function (nextComponentValue) {\n      if (name) {\n        // we have somewhere to put this\n        var nextTouched = _extends({}, touched);\n\n        nextTouched[name] = true;\n\n        if (!touched[name]) {\n          // don't update if not needed\n          setTouched(nextTouched);\n        }\n\n        var nextValue = _extends({}, value);\n\n        nextValue[name] = nextComponentValue;\n        setValueState(nextValue);\n        if (onChange) onChange(nextValue, {\n          touched: nextTouched\n        });\n      }\n\n      if (initialValue !== undefined) setInputValue(nextComponentValue);\n    }];\n  };\n\n  var useFormField = function useFormField(_ref4) {\n    var errorArg = _ref4.error,\n        infoArg = _ref4.info,\n        name = _ref4.name,\n        required = _ref4.required,\n        validateArg = _ref4.validate;\n    var error = errorArg || validationResults.errors[name];\n    var info = infoArg || validationResults.infos[name];\n    useEffect(function () {\n      var validateSingle = function validateSingle(aValidate, value2, data) {\n        var result;\n\n        if (typeof aValidate === 'function') {\n          result = aValidate(value2, data);\n        } else if (aValidate.regexp) {\n          if (!aValidate.regexp.test(value2)) {\n            result = aValidate.message || messages.invalid;\n\n            if (aValidate.status) {\n              result = {\n                message: result,\n                status: aValidate.status\n              };\n            }\n          }\n        }\n\n        return result;\n      };\n\n      var validateField = function validateField(value2, data) {\n        var result;\n\n        if (required && ( // false is for CheckBox\n        value2 === undefined || value2 === '' || value2 === false)) {\n          result = messages.required;\n        } else if (validateArg) {\n          if (Array.isArray(validateArg)) {\n            validateArg.some(function (aValidate) {\n              result = validateSingle(aValidate, value2, data);\n              return !!result;\n            });\n          } else {\n            result = validateSingle(validateArg, value2, data);\n          }\n        }\n\n        return result;\n      };\n\n      if (validateArg || required) {\n        validations.current[name] = validateField;\n        return function () {\n          return delete validations.current[name];\n        };\n      }\n\n      return undefined;\n    }, [error, name, required, validateArg]);\n    return {\n      error: error,\n      info: info,\n      inForm: true,\n      onBlur: validateOn === 'blur' ? function () {\n        // run validations on touched keys\n        var _validate2 = validate(Object.entries(validations.current).filter(function (_ref5) {\n          var n = _ref5[0];\n          return touched[n] || n === name;\n        }), value),\n            nextErrors = _validate2[0],\n            nextInfos = _validate2[1]; // give user access to errors that have occurred on validation\n\n\n        setValidationResults(function (prevValidationResults) {\n          // keep any previous errors and infos for untouched keys,\n          // which probably came from a submit\n          var nextValidationResults = {\n            errors: _extends({}, prevValidationResults.errors, nextErrors),\n            infos: _extends({}, prevValidationResults.infos, nextInfos)\n          };\n          if (onValidate) onValidate(nextValidationResults);\n          return nextValidationResults;\n        });\n      } : undefined\n    };\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", _extends({\n    ref: ref\n  }, rest, {\n    onReset: function onReset(event) {\n      if (!valueProp) {\n        setValueState(defaultValue);\n        if (onChange) onChange(defaultValue, {\n          touched: defaultTouched\n        });\n      }\n\n      setTouched(defaultTouched);\n      setValidationResults(defaultValidationResults);\n\n      if (_onReset) {\n        event.persist(); // extract from React's synthetic event pool\n\n        var adjustedEvent = event;\n        adjustedEvent.value = defaultValue;\n\n        _onReset(adjustedEvent);\n      }\n    },\n    onSubmit: function onSubmit(event) {\n      // Don't submit the form via browser form action. We don't want it\n      // if the validation fails. And, we assume a javascript action handler\n      // otherwise.\n      event.preventDefault();\n\n      var _validate3 = validate(Object.entries(validations.current), value, true),\n          nextErrors = _validate3[0],\n          nextInfos = _validate3[1];\n\n      setValidationResults(function () {\n        var nextValidationResults = {\n          errors: nextErrors,\n          infos: nextInfos\n        };\n        if (onValidate) onValidate(nextValidationResults);\n        return nextValidationResults;\n      });\n\n      if (Object.keys(nextErrors).length === 0 && _onSubmit) {\n        event.persist(); // extract from React's synthetic event pool\n\n        var adjustedEvent = event;\n        adjustedEvent.value = value;\n        adjustedEvent.touched = touched;\n\n        _onSubmit(adjustedEvent);\n      }\n    }\n  }), /*#__PURE__*/React.createElement(FormContext.Provider, {\n    value: {\n      useFormField: useFormField,\n      useFormInput: useFormInput\n    }\n  }, children));\n});\nForm.displayName = 'Form';\nvar FormDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  FormDoc = require('./doc').doc(Form); // eslint-disable-line global-require\n}\n\nvar FormWrapper = FormDoc || Form;\nexport { FormWrapper as Form };","import styled, { css } from 'styled-components';\nimport { focusStyle, normalizeColor } from '../../utils';\nimport { defaultProps } from '../../default-props';\nvar disabledStyle = \"\\n  opacity: 0.5;\\n  cursor: default;\\n\";\nvar hoverStyle = css([\":hover input:not([disabled]) + div,:hover input:not([disabled]) + span{border-color:\", \";}\"], function (props) {\n  return normalizeColor(props.theme.checkBox.hover.border.color, props.theme);\n});\nvar StyledCheckBoxIcon = styled.svg.withConfig({\n  displayName: \"StyledCheckBox__StyledCheckBoxIcon\",\n  componentId: \"sc-1dbk5ju-0\"\n})([\"box-sizing:border-box;stroke-width:\", \";stroke:\", \";width:\", \";height:\", \";\", \";\"], function (props) {\n  return props.theme.checkBox.check.thickness;\n}, function (props) {\n  return normalizeColor(props.theme.checkBox.color || 'control', props.theme);\n}, function (props) {\n  return props.theme.checkBox.icon.size || props.theme.checkBox.size;\n}, function (props) {\n  return props.theme.checkBox.icon.size || props.theme.checkBox.size;\n}, function (props) {\n  return props.theme.checkBox.icon.extend;\n});\nStyledCheckBoxIcon.defaultProps = {};\nObject.setPrototypeOf(StyledCheckBoxIcon.defaultProps, defaultProps);\nvar StyledCheckBoxContainer = styled.label.withConfig({\n  displayName: \"StyledCheckBox__StyledCheckBoxContainer\",\n  componentId: \"sc-1dbk5ju-1\"\n})([\"display:flex;flex-direction:row;align-items:center;user-select:none;width:fit-content;\", \" \", \" \", \" \", \"\"], function (props) {\n  return props.disabled && disabledStyle;\n}, function (props) {\n  return !props.disabled && 'cursor: pointer;';\n}, function (props) {\n  return props.theme.checkBox.hover.border.color && hoverStyle;\n}, function (props) {\n  return props.theme.checkBox.extend;\n});\nStyledCheckBoxContainer.defaultProps = {};\nObject.setPrototypeOf(StyledCheckBoxContainer.defaultProps, defaultProps);\nvar StyledCheckBoxInput = styled.input.withConfig({\n  displayName: \"StyledCheckBox__StyledCheckBoxInput\",\n  componentId: \"sc-1dbk5ju-2\"\n})([\"opacity:0;-moz-appearance:none;width:0;height:0;margin:0;\", \":checked + span > span{left:calc( \", \" - \", \" );background:\", \";}\"], function (props) {\n  return !props.disabled && 'cursor: pointer;';\n}, function (props) {\n  return props.theme.checkBox.toggle.size;\n}, function (props) {\n  return props.theme.checkBox.size;\n}, function (props) {\n  return normalizeColor(props.theme.checkBox.color || 'control', props.theme);\n});\nStyledCheckBoxInput.defaultProps = {};\nObject.setPrototypeOf(StyledCheckBoxInput.defaultProps, defaultProps);\nvar StyledCheckBoxBox = styled.div.withConfig({\n  displayName: \"StyledCheckBox__StyledCheckBoxBox\",\n  componentId: \"sc-1dbk5ju-3\"\n})([\"\", \";\", \";\"], function (props) {\n  return props.focus && focusStyle();\n}, function (props) {\n  return props.theme.checkBox.check.extend;\n});\nStyledCheckBoxBox.defaultProps = {};\nObject.setPrototypeOf(StyledCheckBoxBox.defaultProps, defaultProps);\nvar StyledCheckBoxToggle = styled.span.withConfig({\n  displayName: \"StyledCheckBox__StyledCheckBoxToggle\",\n  componentId: \"sc-1dbk5ju-4\"\n})([\"box-sizing:border-box;vertical-align:middle;display:inline-block;width:\", \";height:\", \";border:\", \" solid;border-color:\", \";border-radius:\", \";background-color:\", \";\", \";\", \";\"], function (props) {\n  return props.theme.checkBox.toggle.size;\n}, function (props) {\n  return props.theme.checkBox.size;\n}, function (props) {\n  return props.theme.checkBox.border.width;\n}, function (props) {\n  return normalizeColor(props.theme.checkBox.border.color, props.theme);\n}, function (props) {\n  return props.theme.checkBox.toggle.radius;\n}, function (props) {\n  return props.theme.checkBox.toggle.background ? normalizeColor(props.theme.checkBox.toggle.background, props.theme) : 'transparent';\n}, function (props) {\n  return props.focus && focusStyle();\n}, function (props) {\n  return props.theme.checkBox.toggle.extend;\n});\nStyledCheckBoxToggle.defaultProps = {};\nObject.setPrototypeOf(StyledCheckBoxToggle.defaultProps, defaultProps);\nvar StyledCheckBoxKnob = styled.span.withConfig({\n  displayName: \"StyledCheckBox__StyledCheckBoxKnob\",\n  componentId: \"sc-1dbk5ju-5\"\n})([\"box-sizing:border-box;position:relative;display:inherit;top:-\", \";left:-\", \";transition:all 0.3s;width:\", \";height:\", \";background:\", \";border-radius:\", \";\", \";\"], function (props) {\n  return props.theme.checkBox.border.width;\n}, function (props) {\n  return props.theme.checkBox.border.width;\n}, function (props) {\n  return props.theme.checkBox.size;\n}, function (props) {\n  return props.theme.checkBox.size;\n}, function (props) {\n  return normalizeColor(props.theme.checkBox.toggle.color[props.theme.dark ? 'dark' : 'light'], props.theme);\n}, function (props) {\n  return props.theme.checkBox.toggle.radius;\n}, function (props) {\n  return props.theme.checkBox.toggle.knob.extend;\n});\nStyledCheckBoxKnob.defaultProps = {};\nObject.setPrototypeOf(StyledCheckBoxKnob.defaultProps, defaultProps);\nvar StyledCheckBox = styled.div.withConfig({\n  displayName: \"StyledCheckBox\",\n  componentId: \"sc-1dbk5ju-6\"\n})([\"flex-shrink:0;\"]);\nStyledCheckBox.defaultProps = {};\nObject.setPrototypeOf(StyledCheckBox.defaultProps, defaultProps);\nexport { StyledCheckBoxIcon, StyledCheckBoxContainer, StyledCheckBoxInput, StyledCheckBoxBox, StyledCheckBoxToggle, StyledCheckBoxKnob, StyledCheckBox };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef, useContext, useEffect, useState } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { removeUndefined } from '../../utils/object';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { FormContext } from '../Form/FormContext';\nimport { StyledCheckBox, StyledCheckBoxBox, StyledCheckBoxIcon, StyledCheckBoxContainer, StyledCheckBoxInput, StyledCheckBoxToggle, StyledCheckBoxKnob } from './StyledCheckBox';\nimport { normalizeColor } from '../../utils';\n\nvar stopLabelClick = function stopLabelClick(event) {\n  // prevents clicking on the label trigging the event twice\n  // https://stackoverflow.com/questions/24501497/why-the-onclick-element-will-trigger-twice-for-label-element\n  if (event.target.type !== 'checkbox') {\n    event.stopPropagation();\n  }\n};\n\nvar CheckBox = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref2;\n\n  var a11yTitle = _ref.a11yTitle,\n      checkedProp = _ref.checked,\n      disabled = _ref.disabled,\n      focusProp = _ref.focus,\n      id = _ref.id,\n      label = _ref.label,\n      name = _ref.name,\n      _onBlur = _ref.onBlur,\n      _onChange = _ref.onChange,\n      _onFocus = _ref.onFocus,\n      reverse = _ref.reverse,\n      toggle = _ref.toggle,\n      indeterminate = _ref.indeterminate,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"a11yTitle\", \"checked\", \"disabled\", \"focus\", \"id\", \"label\", \"name\", \"onBlur\", \"onChange\", \"onFocus\", \"reverse\", \"toggle\", \"indeterminate\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  var formContext = useContext(FormContext);\n\n  var _formContext$useFormI = formContext.useFormInput(name, checkedProp, false),\n      checked = _formContext$useFormI[0],\n      setChecked = _formContext$useFormI[1];\n\n  var _useState = useState(focusProp),\n      focus = _useState[0],\n      setFocus = _useState[1];\n\n  useEffect(function () {\n    return setFocus(focusProp);\n  }, [focusProp]);\n  useEffect(function () {\n    if (checkedProp && indeterminate) {\n      console.warn('Checkbox cannot be \"checked\" and \"indeterminate\" at the same time.');\n    }\n\n    if (toggle && indeterminate) {\n      console.warn('Checkbox of type toggle does not have \"indeterminate\" state.');\n    }\n  }, [checkedProp, toggle, indeterminate]);\n  var themeableProps = {\n    checked: checked,\n    disabled: disabled,\n    focus: focus,\n    reverse: reverse,\n    toggle: toggle,\n    indeterminate: indeterminate\n  };\n  var hidden;\n\n  if (disabled && checked) {\n    hidden = /*#__PURE__*/React.createElement(\"input\", {\n      name: name,\n      type: \"hidden\",\n      value: \"true\"\n    });\n  }\n\n  var _theme$checkBox$icons = theme.checkBox.icons,\n      CheckedIcon = _theme$checkBox$icons.checked,\n      IndeterminateIcon = _theme$checkBox$icons.indeterminate;\n  var borderColor = normalizeColor(theme.checkBox.border.color, theme);\n\n  if (checked) {\n    borderColor = normalizeColor(theme.checkBox.color || 'control', theme);\n  }\n\n  var visual = toggle ? /*#__PURE__*/React.createElement(StyledCheckBoxToggle, themeableProps, /*#__PURE__*/React.createElement(StyledCheckBoxKnob, themeableProps)) : /*#__PURE__*/React.createElement(StyledCheckBoxBox, _extends({\n    as: Box,\n    align: \"center\",\n    justify: \"center\",\n    width: theme.checkBox.size,\n    height: theme.checkBox.size,\n    border: {\n      size: theme.checkBox.border.width,\n      color: borderColor\n    },\n    round: theme.checkBox.check.radius\n  }, themeableProps), !indeterminate && checked && (CheckedIcon ? /*#__PURE__*/React.createElement(CheckedIcon, {\n    theme: theme,\n    as: StyledCheckBoxIcon\n  }) : /*#__PURE__*/React.createElement(StyledCheckBoxIcon, _extends({\n    theme: theme,\n    viewBox: \"0 0 24 24\",\n    preserveAspectRatio: \"xMidYMid meet\"\n  }, themeableProps), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"none\",\n    d: \"M6,11.3 L10.3,16 L18,6.2\"\n  }))), !checked && indeterminate && (IndeterminateIcon ? /*#__PURE__*/React.createElement(IndeterminateIcon, {\n    theme: theme,\n    as: StyledCheckBoxIcon\n  }) : /*#__PURE__*/React.createElement(StyledCheckBoxIcon, _extends({\n    theme: theme,\n    viewBox: \"0 0 24 24\",\n    preserveAspectRatio: \"xMidYMid meet\"\n  }, themeableProps), /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"none\",\n    d: \"M6,12 L18,12\"\n  }))));\n  var side = reverse ? 'left' : 'right';\n  var checkBoxNode = /*#__PURE__*/React.createElement(StyledCheckBox, _extends({\n    as: Box,\n    align: \"center\",\n    justify: \"center\",\n    margin: label && (_ref2 = {}, _ref2[side] = theme.checkBox.gap || 'small', _ref2)\n  }, themeableProps), /*#__PURE__*/React.createElement(StyledCheckBoxInput, _extends({}, rest, {\n    ref: ref,\n    type: \"checkbox\"\n  }, removeUndefined({\n    id: id,\n    name: name,\n    checked: checked,\n    disabled: disabled\n  }), themeableProps, {\n    onFocus: function onFocus(event) {\n      setFocus(true);\n      if (_onFocus) _onFocus(event);\n    },\n    onBlur: function onBlur(event) {\n      setFocus(false);\n      if (_onBlur) _onBlur(event);\n    },\n    onChange: function onChange(event) {\n      setChecked(event.target.checked);\n      if (_onChange) _onChange(event);\n    }\n  })), visual, hidden);\n  var normalizedLabel = typeof label === 'string' ? /*#__PURE__*/React.createElement(\"span\", null, label) : label;\n  var first = reverse ? normalizedLabel : checkBoxNode;\n  var second = reverse ? checkBoxNode : normalizedLabel;\n  return /*#__PURE__*/React.createElement(StyledCheckBoxContainer, _extends({\n    \"aria-label\": a11yTitle,\n    reverse: reverse\n  }, removeUndefined({\n    htmlFor: id,\n    disabled: disabled\n  }), {\n    checked: checked,\n    onClick: stopLabelClick\n  }, themeableProps), first, second);\n});\nCheckBox.displayName = 'CheckBox';\nvar CheckBoxDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  CheckBoxDoc = require('./doc').doc(CheckBox);\n}\n\nvar CheckBoxWrapper = CheckBoxDoc || CheckBox;\nexport { CheckBoxWrapper as CheckBox };","import styled from 'styled-components';\nimport { Box } from '../Box';\nimport { defaultProps } from '../../default-props';\nvar StyledCheckBoxGroup = styled(Box).withConfig({\n  displayName: \"StyledCheckBoxGroup\",\n  componentId: \"sc-2nhc5d-0\"\n})([\"\", \"\"], function (props) {\n  return props.theme.checkBoxGroup && props.theme.checkBoxGroup.container && props.theme.checkBoxGroup.container.extend;\n});\nStyledCheckBoxGroup.defaultProps = {};\nObject.setPrototypeOf(StyledCheckBoxGroup.defaultProps, defaultProps);\nexport { StyledCheckBoxGroup };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef, useContext, useMemo } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { CheckBox } from '../CheckBox';\nimport { FormContext } from '../Form/FormContext';\nimport { StyledCheckBoxGroup } from './StyledCheckBoxGroup';\nexport var CheckBoxGroup = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var valueProp = _ref.value,\n      disabledProp = _ref.disabled,\n      gap = _ref.gap,\n      labelKey = _ref.labelKey,\n      valueKey = _ref.valueKey,\n      onChange = _ref.onChange,\n      optionsProp = _ref.options,\n      name = _ref.name,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"value\", \"disabled\", \"gap\", \"labelKey\", \"valueKey\", \"onChange\", \"options\", \"name\"]);\n\n  var formContext = useContext(FormContext);\n  var theme = useContext(ThemeContext) || defaultProps.theme; // In case option is a string, normalize it to be an object\n\n  var options = useMemo(function () {\n    return optionsProp.map(function (option) {\n      return typeof option === 'string' ? {\n        disabled: disabledProp,\n        value: option,\n        label: option\n      } : option;\n    });\n  }, [optionsProp, disabledProp]); // 'value' is an array of checked valueKeys\n\n  var _formContext$useFormI = formContext.useFormInput(name, valueProp, []),\n      value = _formContext$useFormI[0],\n      setValue = _formContext$useFormI[1]; // Logic is necessary to maintain a proper data structure for Form logic\n\n\n  var onCheckBoxChange = function onCheckBoxChange(event, optionValue, option) {\n    // deep copy of value\n    var nextValue = JSON.parse(JSON.stringify(value)) || [];\n    var optionIndex = nextValue.indexOf(optionValue); // If the value option isn't in the array, add it.\n    // Otherwise, remove it.\n\n    if (optionIndex < 0) nextValue.push(optionValue);else nextValue.splice(optionIndex, 1);\n    setValue(nextValue); // Similar functionality to Select onChange()\n\n    if (onChange) {\n      event.persist(); // extract from React synthetic event pool\n\n      var adjustedEvent = event;\n      adjustedEvent.value = nextValue;\n      adjustedEvent.option = option;\n      onChange(adjustedEvent);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(StyledCheckBoxGroup, _extends({\n    ref: ref\n  }, theme.checkBoxGroup.container, {\n    gap: gap || (theme.checkBoxGroup.container && theme.checkBoxGroup.container.gap ? theme.checkBoxGroup.container.gap : 'small') // consistent with RadioButtonGroup default\n\n  }, rest), options.map(function (option) {\n    var optionValue = option.value;\n    var label = labelKey ? option[labelKey] : option.label;\n    var valueOption = valueKey ? option[valueKey] : optionValue;\n    var checked = value.indexOf(valueOption) >= 0;\n    var disabled = disabledProp || option.disabled;\n    var key = label + \"-\" + valueOption;\n    if (option.checked) console.warn( // eslint-disable-next-line max-len\n    \"'checked' prop of an individual CheckBox shouldn't be used in a CheckBoxGroup component. Use the CheckBoxGroup 'value' prop instead.\"); // value shouldn't propagate the input field and the onChange option\n\n    var omit = option.value,\n        optionRest = _objectWithoutPropertiesLoose(option, [\"value\"]);\n\n    var optionProps = _extends({}, optionRest, {\n      label: label,\n      disabled: disabled\n    });\n\n    return /*#__PURE__*/React.createElement(CheckBox, _extends({\n      key: key\n    }, optionProps, {\n      disabled: disabled,\n      checked: checked,\n      label: label,\n      onChange: function onChange(event) {\n        return onCheckBoxChange(event, valueOption, optionProps);\n      }\n    }));\n  }));\n});\nCheckBoxGroup.displayName = 'CheckBoxGroup';\nvar CheckBoxGroupDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  CheckBoxGroupDoc = require('./doc').doc(CheckBoxGroup);\n}\n\nvar RadioButtonGroupWrapper = CheckBoxGroupDoc || CheckBoxGroup;\nexport { RadioButtonGroupWrapper as RadioButtonGroup };","import styled, { css } from 'styled-components';\nimport { focusStyle, normalizeColor } from '../../utils';\nimport { defaultProps } from '../../default-props';\nvar disabledStyle = \"\\n  opacity: 0.5;\\n  cursor: default;\\n\";\nvar StyledRadioButtonContainer = styled.label.withConfig({\n  displayName: \"StyledRadioButton__StyledRadioButtonContainer\",\n  componentId: \"g1f6ld-0\"\n})([\"display:flex;flex-direction:row;align-items:center;user-select:none;width:fit-content;\", \" \", \":hover input:not([disabled]) + div,:hover input:not([disabled]) + span{border-color:\", \";}:hover{background-color:\", \";}\", \";\"], function (props) {\n  return props.disabled && disabledStyle;\n}, function (props) {\n  return !props.disabled && 'cursor: pointer;';\n}, function (props) {\n  return normalizeColor(props.theme.radioButton.hover.border.color, props.theme);\n}, function (props) {\n  return normalizeColor(!props.disabled && props.theme.radioButton.hover && props.theme.radioButton.hover.background && props.theme.radioButton.hover.background.color, props.theme);\n}, function (props) {\n  return props.theme.radioButton.container.extend;\n});\nStyledRadioButtonContainer.defaultProps = {};\nObject.setPrototypeOf(StyledRadioButtonContainer.defaultProps, defaultProps);\nvar StyledRadioButtonInput = styled.input.withConfig({\n  displayName: \"StyledRadioButton__StyledRadioButtonInput\",\n  componentId: \"g1f6ld-1\"\n})([\"opacity:0;-moz-appearance:none;width:0;height:0;margin:0;\", \";\"], function (props) {\n  return !props.disabled && 'cursor: pointer;';\n});\nStyledRadioButtonInput.defaultProps = {};\nObject.setPrototypeOf(StyledRadioButtonInput.defaultProps, defaultProps);\nvar StyledRadioButtonLabel = styled.span.withConfig({\n  displayName: \"StyledRadioButton__StyledRadioButtonLabel\",\n  componentId: \"g1f6ld-2\"\n})([\"\", \"\"], function (props) {\n  return props.theme.radioButton.font.weight && css([\"font-weight:\", \";\"], props.theme.radioButton.font.weight);\n});\nStyledRadioButtonLabel.defaultProps = {};\nObject.setPrototypeOf(StyledRadioButtonLabel.defaultProps, defaultProps);\nvar StyledRadioButtonIcon = styled.svg.withConfig({\n  displayName: \"StyledRadioButton__StyledRadioButtonIcon\",\n  componentId: \"g1f6ld-3\"\n})([\"box-sizing:border-box;width:\", \";height:\", \";fill:\", \";\", \";\"], function (props) {\n  return props.theme.radioButton.icon.size || props.theme.radioButton.size;\n}, function (props) {\n  return props.theme.radioButton.icon.size || props.theme.radioButton.size;\n}, function (props) {\n  return normalizeColor(props.theme.radioButton.check.color || 'control', props.theme);\n}, function (props) {\n  return props.theme.radioButton.icon.extend;\n});\nStyledRadioButtonIcon.defaultProps = {};\nObject.setPrototypeOf(StyledRadioButtonIcon.defaultProps, defaultProps);\nvar StyledRadioButtonBox = styled.div.withConfig({\n  displayName: \"StyledRadioButton__StyledRadioButtonBox\",\n  componentId: \"g1f6ld-4\"\n})([\"background-color:\", \";\", \";\", \";\"], function (props) {\n  return props.theme.radioButton.check.background && props.theme.radioButton.check.background.color;\n}, function (props) {\n  return props.focus && focusStyle();\n}, function (props) {\n  return props.theme.radioButton.check.extend;\n});\nStyledRadioButtonBox.defaultProps = {};\nObject.setPrototypeOf(StyledRadioButtonBox.defaultProps, defaultProps);\nvar StyledRadioButton = styled.div.withConfig({\n  displayName: \"StyledRadioButton\",\n  componentId: \"g1f6ld-5\"\n})([\"\", \";\"], function (props) {\n  return props.theme.radioButton && props.theme.radioButton.extend;\n});\nStyledRadioButton.defaultProps = {};\nObject.setPrototypeOf(StyledRadioButton.defaultProps, defaultProps);\nexport { StyledRadioButtonContainer, StyledRadioButtonInput, StyledRadioButtonLabel, StyledRadioButtonIcon, StyledRadioButtonBox, StyledRadioButton };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef, useContext, useState } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { Box } from '../Box';\nimport { defaultProps } from '../../default-props';\nimport { normalizeColor, removeUndefined } from '../../utils';\nimport { StyledRadioButton, StyledRadioButtonContainer, StyledRadioButtonIcon, StyledRadioButtonInput, StyledRadioButtonLabel, StyledRadioButtonBox } from './StyledRadioButton';\nvar RadioButton = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n      checked = _ref.checked,\n      children = _ref.children,\n      disabled = _ref.disabled,\n      focus = _ref.focus,\n      id = _ref.id,\n      label = _ref.label,\n      name = _ref.name,\n      onChange = _ref.onChange,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"a11yTitle\", \"checked\", \"children\", \"disabled\", \"focus\", \"id\", \"label\", \"name\", \"onChange\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n\n  var _useState = useState(),\n      hover = _useState[0],\n      setHover = _useState[1];\n\n  var normalizedLabel = typeof label === 'string' ? /*#__PURE__*/React.createElement(StyledRadioButtonLabel, null, label) : label;\n  var Icon = theme.radioButton.icons.circle;\n  var borderColor = normalizeColor(theme.radioButton.border.color, theme);\n\n  if (checked) {\n    borderColor = normalizeColor(theme.radioButton.color || 'control', theme);\n  }\n\n  return /*#__PURE__*/React.createElement(StyledRadioButtonContainer, _extends({}, removeUndefined({\n    htmlFor: id,\n    disabled: disabled\n  }), {\n    onClick: function onClick(event) {\n      // prevents clicking on the label trigging the event twice\n      // https://stackoverflow.com/questions/24501497/why-the-onclick-element-will-trigger-twice-for-label-element\n      if (event.target.type !== 'radio') {\n        event.stopPropagation();\n      }\n    },\n    onMouseEnter: function onMouseEnter() {\n      return setHover(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setHover(false);\n    }\n  }), /*#__PURE__*/React.createElement(StyledRadioButton, {\n    as: Box,\n    flex: false,\n    margin: label ? {\n      right: theme.radioButton.gap || 'small'\n    } : undefined\n  }, /*#__PURE__*/React.createElement(StyledRadioButtonInput, _extends({\n    \"aria-label\": a11yTitle\n  }, rest, {\n    ref: ref,\n    type: \"radio\"\n  }, removeUndefined({\n    id: id,\n    name: name,\n    checked: checked,\n    disabled: disabled,\n    onChange: onChange\n  }))), children ? children({\n    checked: checked,\n    hover: hover\n  }) : /*#__PURE__*/React.createElement(StyledRadioButtonBox, {\n    focus: focus,\n    as: Box,\n    align: \"center\",\n    justify: \"center\",\n    width: theme.radioButton.size,\n    height: theme.radioButton.size,\n    border: {\n      size: theme.radioButton.border.width,\n      color: borderColor\n    },\n    round: theme.radioButton.check.radius\n  }, checked && (Icon ? /*#__PURE__*/React.createElement(Icon, {\n    as: StyledRadioButtonIcon\n  }) : /*#__PURE__*/React.createElement(StyledRadioButtonIcon, {\n    viewBox: \"0 0 24 24\",\n    preserveAspectRatio: \"xMidYMid meet\"\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    cx: 12,\n    cy: 12,\n    r: 6\n  }))))), normalizedLabel);\n});\nRadioButton.displayName = 'RadioButton';\nvar RadioButtonDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  RadioButtonDoc = require('./doc').doc(RadioButton);\n}\n\nvar RadioButtonWrapper = RadioButtonDoc || RadioButton;\nexport { RadioButtonWrapper as RadioButton };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { FormContext } from '../Form/FormContext';\nimport { defaultProps } from '../../default-props';\nimport { Keyboard } from '../Keyboard';\nimport { Box } from '../Box';\nimport { RadioButton } from '../RadioButton';\nvar RadioButtonGroup = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n      disabled = _ref.disabled,\n      name = _ref.name,\n      _onChange = _ref.onChange,\n      optionsProp = _ref.options,\n      valueProp = _ref.value,\n      gap = _ref.gap,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"children\", \"disabled\", \"name\", \"onChange\", \"options\", \"value\", \"gap\"]);\n\n  var formContext = useContext(FormContext);\n  var theme = useContext(ThemeContext) || defaultProps.theme; // normalize options to always use an object\n\n  var options = useMemo(function () {\n    return optionsProp.map(function (o) {\n      return typeof o !== 'object' ? {\n        disabled: disabled,\n        id: rest.id ? rest.id + \"-\" + o : \"\" + o,\n        // force string\n        label: typeof o !== 'string' ? JSON.stringify(o) : o,\n        value: o\n      } : _extends({\n        disabled: disabled\n      }, o);\n    });\n  }, [disabled, optionsProp, rest.id]);\n\n  var _formContext$useFormI = formContext.useFormInput(name, valueProp, ''),\n      value = _formContext$useFormI[0],\n      setValue = _formContext$useFormI[1];\n\n  var _useState = useState(),\n      focus = _useState[0],\n      setFocus = _useState[1];\n\n  var optionRefs = useRef([]);\n  var valueIndex = React.useMemo(function () {\n    var result;\n    options.some(function (option, index) {\n      if (option.value === value) {\n        result = index;\n        return true;\n      }\n\n      return false;\n    });\n    return result;\n  }, [options, value]);\n  useEffect(function () {\n    if (focus && valueIndex >= 0) optionRefs.current[valueIndex].focus();\n  }, [focus, valueIndex]);\n\n  var onNext = function onNext() {\n    if (valueIndex !== undefined && valueIndex < options.length - 1) {\n      var nextIndex = valueIndex + 1;\n      var nextValue = options[nextIndex].value;\n      setValue(nextValue);\n      if (_onChange) _onChange({\n        target: {\n          value: nextValue\n        }\n      });\n    }\n  };\n\n  var onPrevious = function onPrevious() {\n    if (valueIndex > 0) {\n      var nextIndex = valueIndex - 1;\n      var nextValue = options[nextIndex].value;\n      setValue(nextValue);\n      if (_onChange) _onChange({\n        target: {\n          value: nextValue\n        }\n      });\n    }\n  };\n\n  var onFocus = function onFocus() {\n    // Delay just a wee bit so Chrome doesn't missing turning the button on.\n    // Chrome behaves differently in that focus is given to radio buttons\n    // when the user selects one, unlike Safari and Firefox.\n    setTimeout(function () {\n      return !focus && setFocus(true);\n    }, 1);\n  };\n\n  var onBlur = function onBlur() {\n    return focus && setFocus(false);\n  };\n\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    target: \"document\",\n    onUp: focus ? onPrevious : undefined,\n    onDown: focus ? onNext : undefined,\n    onLeft: focus ? onPrevious : undefined,\n    onRight: focus ? onNext : undefined\n  }, /*#__PURE__*/React.createElement(Box, _extends({\n    ref: ref\n  }, theme.radioButtonGroup.container, {\n    gap: gap || (theme.radioButtonGroup.container && theme.radioButtonGroup.container.gap ? theme.radioButtonGroup.container.gap : 'small')\n  }, rest), options.map(function (_ref2, index) {\n    var optionDisabled = _ref2.disabled,\n        id = _ref2.id,\n        label = _ref2.label,\n        optionValue = _ref2.value,\n        optionRest = _objectWithoutPropertiesLoose(_ref2, [\"disabled\", \"id\", \"label\", \"value\"]);\n\n    return /*#__PURE__*/React.createElement(RadioButton, _extends({\n      ref: function ref(aRef) {\n        optionRefs.current[index] = aRef;\n      },\n      key: optionValue,\n      name: name,\n      label: !children ? label : undefined,\n      disabled: optionDisabled,\n      checked: optionValue === value,\n      focus: focus && (optionValue === value || value === undefined && !index),\n      id: id,\n      value: optionValue,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      onChange: function onChange(event) {\n        setValue(optionValue);\n        if (_onChange) _onChange(event);\n      }\n    }, optionRest), children ? function (state) {\n      return children(optionsProp[index], state);\n    } : null);\n  })));\n});\nRadioButtonGroup.displayName = 'RadioButtonGroup';\nvar RadioButtonGroupDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  RadioButtonGroupDoc = require('./doc').doc(RadioButtonGroup);\n}\n\nvar RadioButtonGroupWrapper = RadioButtonGroupDoc || RadioButtonGroup;\nexport { RadioButtonGroupWrapper as RadioButtonGroup };","import React, { useEffect, useLayoutEffect, useMemo, useRef, useState } from 'react';\nimport { findScrollParent, findScrollParents, isNodeAfterScroll, isNodeBeforeScroll } from '../../utils';\nimport { Box } from '../Box';\n\nvar InfiniteScroll = function InfiniteScroll(_ref) {\n  var children = _ref.children,\n      _ref$items = _ref.items,\n      items = _ref$items === void 0 ? [] : _ref$items,\n      onMore = _ref.onMore,\n      renderMarker = _ref.renderMarker,\n      replace = _ref.replace,\n      showProp = _ref.show,\n      _ref$step = _ref.step,\n      step = _ref$step === void 0 ? 50 : _ref$step;\n\n  // item index to be made visible initially\n  var _useState = useState(showProp),\n      show = _useState[0],\n      setShow = _useState[1]; // the last page we have items for\n\n\n  var lastPage = useMemo(function () {\n    return Math.floor(items.length / step);\n  }, [items.length, step]); // the pages we are rendering\n\n  var _useState2 = useState([0, show ? Math.floor((show + step) / step) - 1 : 0]),\n      renderPageBounds = _useState2[0],\n      setRenderPageBounds = _useState2[1]; // the heights of the pages, approximated after we render the first page\n  // and then updated for pages that have rendered\n\n\n  var _useState3 = useState([]),\n      pageHeights = _useState3[0],\n      setPageHeights = _useState3[1]; // what we're waiting for onMore to give us\n\n\n  var _useState4 = useState(0),\n      pendingLength = _useState4[0],\n      setPendingLength = _useState4[1];\n\n  var aboveMarkerRef = useRef(); // only when replacing\n\n  var belowMarkerRef = useRef(); // scroll and resize handling\n\n  useEffect(function () {\n    var scrollParents;\n\n    var evaluate = function evaluate() {\n      if (!scrollParents) return;\n      var scrollParent = scrollParents[0]; // Determine the scroll position of the scroll container\n\n      var top;\n      var height;\n\n      if (scrollParent === document) {\n        top = document.documentElement.scrollTop || document.body.scrollTop;\n        height = window.innerHeight;\n      } else {\n        top = scrollParent.scrollTop;\n        var rect = scrollParent.getBoundingClientRect();\n        height = rect.height;\n      }\n\n      var offset = height / 4; // so we pre-load when the user scrolls slowly\n      // Use the pageHeights to determine what pages we should render based\n      // on the current scroll window.\n\n      var nextBeginPage = 0;\n      var index = 0;\n      var pagesHeight = pageHeights[index] || 0;\n\n      while (pageHeights[index + 1] && pagesHeight < top - offset) {\n        index += 1;\n        nextBeginPage += 1;\n        pagesHeight += pageHeights[index];\n      }\n\n      var nextEndPage = nextBeginPage;\n\n      while (pageHeights[index] !== undefined && pagesHeight < top + height + offset) {\n        index += 1;\n        nextEndPage += 1; // when we haven't rendered the nextEndPage and we aren't replacing,\n        // we might not have a height for it yet\n\n        pagesHeight += pageHeights[index] || 0;\n      }\n\n      if (!replace) {\n        // when not replacing, never shrink bounds\n        nextBeginPage = 0;\n        nextEndPage = Math.max(renderPageBounds[1], nextEndPage);\n      }\n\n      if (show) {\n        // ensure we try to render any show page\n        var showPage = Math.floor((show + step) / step) - 1;\n        nextBeginPage = Math.min(showPage, nextBeginPage);\n        nextEndPage = Math.max(showPage, nextEndPage);\n      }\n\n      if (nextBeginPage !== renderPageBounds[0] || nextEndPage !== renderPageBounds[1]) {\n        setRenderPageBounds([nextBeginPage, nextEndPage]);\n      }\n    };\n\n    var timer;\n\n    var debounce = function debounce() {\n      clearTimeout(timer);\n      timer = setTimeout(evaluate, 10);\n    }; // might not be there yet or might have already rendered everything\n\n\n    if (belowMarkerRef.current) {\n      scrollParents = findScrollParents(belowMarkerRef.current);\n      scrollParents.forEach(function (sp) {\n        return sp.addEventListener('scroll', debounce);\n      });\n    }\n\n    window.addEventListener('resize', debounce);\n    evaluate();\n    return function () {\n      if (scrollParents) {\n        scrollParents.forEach(function (sp) {\n          return sp.removeEventListener('scroll', debounce);\n        });\n      }\n\n      window.removeEventListener('resize', debounce);\n      clearTimeout(timer);\n    };\n  }, [pageHeights, renderPageBounds, replace, show, step]); // check if we need to ask for more\n\n  useEffect(function () {\n    if (onMore && renderPageBounds[1] === lastPage && items.length >= pendingLength) {\n      // remember we've asked for more, so we don't keep asking if it takes\n      // a while\n      setPendingLength(items.length + 1);\n      onMore();\n    }\n  }, [items.length, lastPage, onMore, pendingLength, renderPageBounds, step]); // scroll to any 'show'\n\n  useLayoutEffect(function () {\n    // ride out any animation delays, 100ms empirically measured\n    var timer = setTimeout(function () {\n      if (show && belowMarkerRef.current) {\n        // calculate show index based on beginPage\n        var showIndex = show - renderPageBounds[0] * step + (renderPageBounds[0] ? 1 : 0);\n        var showNode = belowMarkerRef.current.parentNode.children.item(showIndex);\n\n        if (showNode) {\n          var scrollParent = findScrollParent(showNode);\n\n          if (isNodeBeforeScroll(showNode, scrollParent)) {\n            showNode.scrollIntoView(true);\n          } else if (isNodeAfterScroll(showNode, scrollParent)) {\n            showNode.scrollIntoView(false);\n          } // clean up after having shown\n\n\n          setShow(undefined);\n        }\n      }\n    }, 100);\n    return function () {\n      return clearTimeout(timer);\n    };\n  }, [renderPageBounds, show, step]); // calculate and keep track of page heights\n\n  useLayoutEffect(function () {\n    // if don't have a belowMarker, we must have rendered everything already\n    if (!belowMarkerRef.current) return; // calculate page heights for rendered pages\n\n    var rendered = belowMarkerRef.current.parentNode.children; // ensure we've rendered the state we have\n    // above? + items in rendered pages + below === rendered DOM elements length\n\n    if ((aboveMarkerRef.current ? 1 : 0) + (renderPageBounds[1] - renderPageBounds[0] + 1) * step + 1 === rendered.length) {\n      var nextPageHeights; // step through each page\n\n      var i = renderPageBounds[0];\n      var lastBottom;\n\n      while (i <= renderPageBounds[1]) {\n        var topIndex = (aboveMarkerRef.current ? 1 : 0) + (i - renderPageBounds[0]) * step;\n        var bottomIndex = Math.min(topIndex + step - 1, rendered.length - 1); // we use lastBottom for top to ensure grid layouts work\n\n        var top = lastBottom !== undefined ? lastBottom : rendered.item(topIndex).getBoundingClientRect().top;\n\n        var _rendered$item$getBou = rendered.item(bottomIndex).getBoundingClientRect(),\n            bottom = _rendered$item$getBou.bottom;\n\n        var height = bottom - top;\n\n        if (bottom && (!pageHeights || pageHeights[i] !== height)) {\n          if (!nextPageHeights) nextPageHeights = [].concat(pageHeights || []);\n          nextPageHeights[i] = height;\n        }\n\n        lastBottom = bottom;\n        i += 1;\n      } // estimate page heights for pages we haven't rendered yet\n\n\n      while (replace && i <= lastPage) {\n        if (!pageHeights[i] && pageHeights[i] !== pageHeights[0]) {\n          if (!nextPageHeights) nextPageHeights = [].concat(pageHeights || []);\n          var _nextPageHeights = nextPageHeights;\n          nextPageHeights[i] = _nextPageHeights[0];\n        }\n\n        i += 1;\n      }\n\n      if (nextPageHeights) setPageHeights(nextPageHeights);\n    }\n  }, [lastPage, pageHeights, renderPageBounds, replace, step]); // calculate the height above the first rendered page using the pageHeights\n\n  var aboveHeight = useMemo(function () {\n    if (!replace) return 0;\n    var height = 0;\n    var i = 0;\n\n    while (i < renderPageBounds[0]) {\n      height += pageHeights[i] || 0;\n      i += 1;\n    }\n\n    return height;\n  }, [pageHeights, renderPageBounds, replace]); // calculate the height below the last rendered page using the pageHeights\n\n  var belowHeight = useMemo(function () {\n    if (!replace) return 0;\n    var height = 0;\n    var i = renderPageBounds[1] + 1;\n\n    while (i <= lastPage) {\n      height += pageHeights[i] || 0;\n      i += 1;\n    }\n\n    return height;\n  }, [lastPage, pageHeights, renderPageBounds, replace]);\n  var firstIndex = renderPageBounds[0] * step;\n  var lastIndex = Math.min((renderPageBounds[1] + 1) * step, items.length) - 1;\n  var result = [];\n\n  if (aboveHeight) {\n    var marker = /*#__PURE__*/React.createElement(Box, {\n      key: \"above\",\n      ref: aboveMarkerRef,\n      flex: false,\n      height: aboveHeight + \"px\"\n    });\n\n    if (renderMarker) {\n      // need to give it a key\n      marker = /*#__PURE__*/React.cloneElement(renderMarker(marker), {\n        key: 'above'\n      });\n    }\n\n    result.push(marker);\n  }\n\n  items.slice(firstIndex, lastIndex + 1).forEach(function (item, index) {\n    var itemsIndex = firstIndex + index;\n    var child = children(item, itemsIndex);\n    result.push(child);\n  });\n\n  if (replace || renderPageBounds[1] < lastPage || onMore) {\n    var _marker = /*#__PURE__*/React.createElement(Box, {\n      key: \"below\",\n      ref: !renderMarker && belowMarkerRef || undefined,\n      flex: false,\n      height: (belowHeight || 0) + \"px\"\n    });\n\n    if (renderMarker) {\n      // need to give it a key\n      var renderedMarker = renderMarker(_marker);\n      _marker = /*#__PURE__*/React.cloneElement(renderedMarker, {\n        key: 'below',\n        // We need to make sure our belowMarkerRef is tied to a component\n        // that has the same parent as the items being rendered. This is so\n        // we can use belowMarkerRef.current.parentNode.children to\n        // get a reference to the items in the DOM for calculating pageHeights.\n        //\n        // Since the caller might have included a ref in what their\n        // renderMarker returns, we have to take care of both refs.\n        // https://github.com/facebook/react/issues/8873#issuecomment-489579878\n        ref: function ref(node) {\n          // Keep your own reference\n          belowMarkerRef.current = node; // Call the original ref, if any\n\n          var ref = renderedMarker.ref;\n\n          if (typeof ref === 'function') {\n            ref(node);\n          } else if (ref !== null) {\n            ref.current = node;\n          }\n        }\n      });\n    }\n\n    result.push(_marker);\n  }\n\n  return result;\n};\n\nvar InfiniteScrollDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  InfiniteScrollDoc = require('./doc').doc(InfiniteScroll);\n}\n\nvar InfiniteScrollWrapper = InfiniteScrollDoc || InfiniteScroll;\nexport { InfiniteScrollWrapper as InfiniteScroll };","import React from 'react';\n\nvar createAnnouncer = function createAnnouncer() {\n  var announcer = document.createElement('div');\n  announcer.id = 'grommet-announcer';\n  announcer.style.left = '-100%';\n  announcer.style.right = '100%';\n  announcer.style.position = 'fixed';\n  announcer.style['z-index'] = '-1';\n  document.body.insertBefore(announcer, document.body.firstChild);\n  return announcer;\n};\n\nexport var AnnounceContext = /*#__PURE__*/React.createContext(function (message, mode, timeout) {\n  if (mode === void 0) {\n    mode = 'polite';\n  }\n\n  if (timeout === void 0) {\n    timeout = 500;\n  }\n\n  // we only create a new container if we don't have one already\n  // we create a separate node so that grommet does not set aria-hidden to it\n  var announcer = document.body.querySelector(\"#grommet-announcer[aria-live]\") || createAnnouncer();\n  announcer.setAttribute('aria-live', 'off');\n  announcer.innerHTML = message;\n  announcer.setAttribute('aria-live', mode);\n  setTimeout(function () {\n    announcer.innerHTML = '';\n  }, timeout);\n});","import styled, { css } from 'styled-components';\nimport { disabledStyle, getInputPadBySide, inputStyle, parseMetricToNum, plainInputStyle, textAlignStyle } from '../../utils';\nimport { defaultProps } from '../../default-props';\n\nvar getPlainStyle = function getPlainStyle(plain) {\n  if (plain === 'full') {\n    return css([\"\", \" padding:0;\"], plainInputStyle);\n  }\n\n  return plain && plainInputStyle;\n};\n\nvar StyledTextInput = styled.input.withConfig({\n  displayName: \"StyledTextInput\",\n  componentId: \"sc-1x30a0s-0\"\n})([\"\", \" \", \" \", \" \", \" \", \";\", \"\"], inputStyle, function (props) {\n  return getPlainStyle(props.plain);\n}, function (props) {\n  return props.icon && (props.reverse ? \"padding-right: \" + props.theme.global.edgeSize.large + \";\" : \"padding-left: \" + props.theme.global.edgeSize.large + \";\");\n}, function (props) {\n  return props.disabled && disabledStyle(props.theme.textInput.disabled && props.theme.textInput.disabled.opacity);\n}, function (props) {\n  return props.theme.textInput && props.theme.textInput.extend;\n}, function (props) {\n  return props.textAlign && textAlignStyle;\n});\nStyledTextInput.defaultProps = {};\nObject.setPrototypeOf(StyledTextInput.defaultProps, defaultProps);\nvar StyledTextInputContainer = styled.div.withConfig({\n  displayName: \"StyledTextInput__StyledTextInputContainer\",\n  componentId: \"sc-1x30a0s-1\"\n})([\"position:relative;width:100%;\", \";\"], function (props) {\n  return props.theme.textInput && props.theme.textInput.container && props.theme.textInput.container.extend;\n});\nStyledTextInputContainer.defaultProps = {};\nObject.setPrototypeOf(StyledTextInputContainer.defaultProps, defaultProps);\nvar StyledPlaceholder = styled.div.withConfig({\n  displayName: \"StyledTextInput__StyledPlaceholder\",\n  componentId: \"sc-1x30a0s-2\"\n})([\"position:absolute;left:\", \"px;top:50%;transform:translateY(-50%);display:flex;justify-content:center;pointer-events:none;\", \";\"], function (props) {\n  return parseMetricToNum(getInputPadBySide(props, 'left')) - parseMetricToNum(props.theme.global.control.border.width);\n}, function (props) {\n  return props.theme.textInput && props.theme.textInput.placeholder && props.theme.textInput.placeholder.extend;\n});\nStyledPlaceholder.defaultProps = {};\nObject.setPrototypeOf(StyledPlaceholder.defaultProps, defaultProps);\nvar StyledIcon = styled.div.withConfig({\n  displayName: \"StyledTextInput__StyledIcon\",\n  componentId: \"sc-1x30a0s-3\"\n})([\"position:absolute;display:flex;justify:center;top:50%;transform:translateY(-50%);pointer-events:none;\", \"\"], function (props) {\n  return props.reverse ? \"right: \" + getInputPadBySide(props, 'right') + \";\" : \"left: \" + getInputPadBySide(props, 'left') + \";\";\n});\nvar StyledSuggestions = styled.ol.withConfig({\n  displayName: \"StyledTextInput__StyledSuggestions\",\n  componentId: \"sc-1x30a0s-4\"\n})([\"border-top-left-radius:0;border-top-right-radius:0;margin:0;padding:0;list-style-type:none;\", \";\"], function (props) {\n  return props.theme.textInput && props.theme.textInput.suggestions && props.theme.textInput.suggestions.extend;\n});\nStyledSuggestions.defaultProps = {};\nObject.setPrototypeOf(StyledSuggestions.defaultProps, defaultProps);\nexport { StyledTextInput, StyledTextInputContainer, StyledPlaceholder, StyledIcon, StyledSuggestions };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef, useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Drop } from '../Drop';\nimport { InfiniteScroll } from '../InfiniteScroll';\nimport { Keyboard } from '../Keyboard';\nimport { FormContext } from '../Form/FormContext';\nimport { AnnounceContext } from '../../contexts';\nimport { isNodeAfterScroll, isNodeBeforeScroll, sizeStyle, useForwardedRef } from '../../utils';\nimport { StyledTextInput, StyledTextInputContainer, StyledPlaceholder, StyledIcon, StyledSuggestions } from './StyledTextInput';\n\nvar renderLabel = function renderLabel(suggestion) {\n  if (suggestion && typeof suggestion === 'object') {\n    return suggestion.label || suggestion.value;\n  }\n\n  return suggestion;\n};\n\nvar stringLabel = function stringLabel(suggestion) {\n  if (suggestion && typeof suggestion === 'object') {\n    if (suggestion.label && typeof suggestion.label === 'string') {\n      return suggestion.label;\n    }\n\n    return suggestion.value;\n  }\n\n  return suggestion;\n};\n\nvar ContainerBox = styled(Box).withConfig({\n  displayName: \"TextInput__ContainerBox\",\n  componentId: \"sc-1ai0c08-0\"\n})([\"\", \";@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){width:100%;}\"], function (props) {\n  return props.dropHeight ? sizeStyle('max-height', props.dropHeight, props.theme) : 'max-height: inherit;';\n});\nvar defaultDropAlign = {\n  top: 'bottom',\n  left: 'left'\n};\nvar defaultMessages = {\n  enterSelect: '(Press Enter to Select)',\n  suggestionsCount: 'suggestions available',\n  suggestionsExist: 'This input has suggestions use arrow keys to navigate',\n  suggestionIsOpen: 'Suggestions drop is open, continue to use arrow keys to navigate'\n};\nvar TextInput = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n      defaultValue = _ref.defaultValue,\n      _ref$dropAlign = _ref.dropAlign,\n      dropAlign = _ref$dropAlign === void 0 ? defaultDropAlign : _ref$dropAlign,\n      dropHeight = _ref.dropHeight,\n      dropTarget = _ref.dropTarget,\n      dropProps = _ref.dropProps,\n      icon = _ref.icon,\n      id = _ref.id,\n      _ref$messages = _ref.messages,\n      messages = _ref$messages === void 0 ? defaultMessages : _ref$messages,\n      name = _ref.name,\n      _onBlur = _ref.onBlur,\n      onChange = _ref.onChange,\n      _onFocus = _ref.onFocus,\n      onKeyDown = _ref.onKeyDown,\n      onSelect = _ref.onSelect,\n      onSuggestionSelect = _ref.onSuggestionSelect,\n      onSuggestionsClose = _ref.onSuggestionsClose,\n      onSuggestionsOpen = _ref.onSuggestionsOpen,\n      placeholder = _ref.placeholder,\n      plain = _ref.plain,\n      readOnly = _ref.readOnly,\n      reverse = _ref.reverse,\n      suggestions = _ref.suggestions,\n      textAlign = _ref.textAlign,\n      valueProp = _ref.value,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"a11yTitle\", \"defaultValue\", \"dropAlign\", \"dropHeight\", \"dropTarget\", \"dropProps\", \"icon\", \"id\", \"messages\", \"name\", \"onBlur\", \"onChange\", \"onFocus\", \"onKeyDown\", \"onSelect\", \"onSuggestionSelect\", \"onSuggestionsClose\", \"onSuggestionsOpen\", \"placeholder\", \"plain\", \"readOnly\", \"reverse\", \"suggestions\", \"textAlign\", \"value\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  var announce = useContext(AnnounceContext);\n  var formContext = useContext(FormContext);\n  var inputRef = useForwardedRef(ref);\n  var dropRef = useRef();\n  var suggestionsRef = useRef();\n  var suggestionRefs = {}; // if this is a readOnly property, don't set a name with the form context\n  // this allows Select to control the form context for the name.\n\n  var _formContext$useFormI = formContext.useFormInput(readOnly ? undefined : name, valueProp),\n      value = _formContext$useFormI[0],\n      setValue = _formContext$useFormI[1];\n\n  var _useState = useState(),\n      focus = _useState[0],\n      setFocus = _useState[1];\n\n  var _useState2 = useState(),\n      showDrop = _useState2[0],\n      setShowDrop = _useState2[1];\n\n  var handleSuggestionSelect = useMemo(function () {\n    return onSelect && !onSuggestionSelect ? onSelect : onSuggestionSelect;\n  }, [onSelect, onSuggestionSelect]);\n  var handleTextSelect = useMemo(function () {\n    return onSelect && onSuggestionSelect ? onSelect : undefined;\n  }, [onSelect, onSuggestionSelect]); // if we have no suggestions, close drop if it's open\n\n  useEffect(function () {\n    if (showDrop && (!suggestions || !suggestions.length)) {\n      setShowDrop(false);\n      if (onSuggestionsClose) onSuggestionsClose();\n    }\n  }, [onSuggestionsClose, showDrop, suggestions]); // If we have suggestions and focus, open drop if it's closed.\n  // This can occur when suggestions are tied to the value.\n  // We don't want focus or showDrop in the dependencies because we\n  // don't want to open the drop just because Esc close it.\n\n  /* eslint-disable react-hooks/exhaustive-deps */\n\n  useEffect(function () {\n    if (focus && !showDrop && suggestions && suggestions.length) {\n      setShowDrop(true);\n      if (onSuggestionsOpen) onSuggestionsOpen();\n    }\n  }, [onSuggestionsOpen, suggestions]);\n  /* eslint-enable react-hooks/exhaustive-deps */\n\n  var _useState3 = useState(-1),\n      activeSuggestionIndex = _useState3[0],\n      setActiveSuggestionIndex = _useState3[1]; // reset activeSuggestionIndex when the drop is closed\n\n\n  useEffect(function () {\n    if (activeSuggestionIndex !== -1 && !showDrop) {\n      setActiveSuggestionIndex(-1);\n    }\n  }, [activeSuggestionIndex, showDrop]); // announce active suggestion\n\n  useEffect(function () {\n    if (activeSuggestionIndex >= 0) {\n      var label = stringLabel(suggestions[activeSuggestionIndex]);\n      announce(label + \" \" + messages.enterSelect);\n    }\n  }, [activeSuggestionIndex, announce, messages, suggestions]);\n\n  var _useState4 = useState(-1),\n      selectedSuggestionIndex = _useState4[0],\n      setSelectedSuggestionIndex = _useState4[1]; // set selectedSuggestionIndex based on value and current suggestions\n\n\n  useEffect(function () {\n    if (suggestions) {\n      var suggestionValues = suggestions.map(function (suggestion) {\n        return typeof suggestion === 'object' ? suggestion.value : suggestion;\n      });\n      setSelectedSuggestionIndex(suggestionValues.indexOf(value));\n    } else setSelectedSuggestionIndex(-1);\n  }, [suggestions, value]); // make sure activeSuggestion remains visible in scroll\n\n  useEffect(function () {\n    var buttonNode = suggestionRefs[activeSuggestionIndex];\n    var optionsNode = suggestionsRef.current;\n\n    if (buttonNode && isNodeAfterScroll(buttonNode, optionsNode) && optionsNode.scrollTo) {\n      optionsNode.scrollTo(0, buttonNode.offsetTop - (optionsNode.getBoundingClientRect().height - buttonNode.getBoundingClientRect().height));\n    }\n\n    if (buttonNode && isNodeBeforeScroll(buttonNode, optionsNode) && optionsNode.scrollTo) {\n      optionsNode.scrollTo(0, buttonNode.offsetTop);\n    }\n  }, [activeSuggestionIndex, suggestionRefs]);\n  var openDrop = useCallback(function () {\n    setShowDrop(true);\n    announce(messages.suggestionIsOpen);\n    announce(suggestions.length + \" \" + messages.suggestionsCount);\n    if (onSuggestionsOpen) onSuggestionsOpen();\n  }, [announce, messages.suggestionsCount, messages.suggestionIsOpen, onSuggestionsOpen, suggestions]);\n  var closeDrop = useCallback(function () {\n    setShowDrop(false);\n    if (messages.onSuggestionsClose) onSuggestionsClose();\n    if (onSuggestionsClose) onSuggestionsClose();\n  }, [messages.onSuggestionsClose, onSuggestionsClose]);\n\n  var onNextSuggestion = function onNextSuggestion(event) {\n    event.preventDefault();\n    var nextActiveIndex = Math.min(activeSuggestionIndex + 1, suggestions.length - 1);\n    setActiveSuggestionIndex(nextActiveIndex);\n  };\n\n  var onPreviousSuggestion = function onPreviousSuggestion(event) {\n    event.preventDefault();\n    var nextActiveIndex = Math.max(activeSuggestionIndex - 1, 0);\n    setActiveSuggestionIndex(nextActiveIndex);\n  };\n\n  var showStyledPlaceholder = placeholder && typeof placeholder !== 'string' && !(inputRef.current && inputRef.current.value);\n  var drop;\n  var extraProps = {\n    onSelect: handleTextSelect\n  };\n\n  if (showDrop) {\n    drop =\n    /*#__PURE__*/\n    // keyboard access needed here in case user clicks\n    // and drags on scroll bar and focus shifts to drop\n    React.createElement(Keyboard, {\n      onDown: function onDown(event) {\n        return onNextSuggestion(event);\n      },\n      onUp: function onUp(event) {\n        return onPreviousSuggestion(event);\n      },\n      onEnter: function onEnter(event) {\n        // we stole the focus, give it back\n        inputRef.current.focus();\n        closeDrop();\n\n        if (handleSuggestionSelect) {\n          var adjustedEvent = event;\n          adjustedEvent.suggestion = suggestions[activeSuggestionIndex];\n          handleSuggestionSelect(adjustedEvent);\n        }\n\n        setValue(suggestions[activeSuggestionIndex]);\n      }\n    }, /*#__PURE__*/React.createElement(Drop, _extends({\n      ref: dropRef,\n      id: id ? \"text-input-drop__\" + id : undefined,\n      align: dropAlign,\n      responsive: false,\n      target: dropTarget || inputRef.current,\n      onClickOutside: closeDrop,\n      onEsc: closeDrop\n    }, dropProps), /*#__PURE__*/React.createElement(ContainerBox, {\n      ref: suggestionsRef,\n      overflow: \"auto\",\n      dropHeight: dropHeight\n    }, /*#__PURE__*/React.createElement(StyledSuggestions, null, /*#__PURE__*/React.createElement(InfiniteScroll, {\n      items: suggestions,\n      step: theme.select.step\n    }, function (suggestion, index, itemRef) {\n      // Determine whether the label is done as a child or\n      // as an option Button kind property.\n      var renderedLabel = renderLabel(suggestion);\n      var child;\n      if (typeof renderedLabel !== 'string') // must be an element rendered by suggestions.label\n        child = renderedLabel;else if (!theme.button.option) // don't have theme support, need to layout here\n        child = /*#__PURE__*/React.createElement(Box, {\n          align: \"start\",\n          pad: \"small\"\n        }, renderedLabel); // if we have a child, turn on plain, and hoverIndicator\n\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: stringLabel(suggestion) + \"-\" + index,\n        ref: itemRef\n      }, /*#__PURE__*/React.createElement(Button, {\n        active: activeSuggestionIndex === index || selectedSuggestionIndex === index,\n        ref: function ref(r) {\n          suggestionRefs[index] = r;\n        },\n        fill: true,\n        plain: !child ? undefined : true,\n        align: \"start\",\n        kind: !child ? 'option' : undefined,\n        hoverIndicator: !child ? undefined : 'background',\n        label: !child ? renderedLabel : undefined,\n        onClick: function onClick(event) {\n          // we stole the focus, give it back\n          inputRef.current.focus();\n          closeDrop();\n\n          if (handleSuggestionSelect) {\n            event.persist();\n            var adjustedEvent = event;\n            adjustedEvent.suggestion = suggestion;\n            adjustedEvent.target = inputRef.current;\n            handleSuggestionSelect(adjustedEvent);\n          }\n\n          setValue(suggestion);\n        },\n        onMouseOver: function onMouseOver() {\n          return setActiveSuggestionIndex(index);\n        },\n        onFocus: function onFocus() {\n          return setActiveSuggestionIndex(index);\n        }\n      }, child));\n    })))));\n  }\n\n  return /*#__PURE__*/React.createElement(StyledTextInputContainer, {\n    plain: plain\n  }, showStyledPlaceholder && /*#__PURE__*/React.createElement(StyledPlaceholder, null, placeholder), icon && /*#__PURE__*/React.createElement(StyledIcon, {\n    reverse: reverse,\n    theme: theme\n  }, icon), /*#__PURE__*/React.createElement(Keyboard, {\n    onEnter: function onEnter(event) {\n      closeDrop();\n\n      if (activeSuggestionIndex >= 0 && handleSuggestionSelect) {\n        // prevent submitting forms when choosing a suggestion\n        event.preventDefault();\n        event.persist();\n        var adjustedEvent = event;\n        adjustedEvent.suggestion = suggestions[activeSuggestionIndex];\n        adjustedEvent.target = inputRef.current;\n        handleSuggestionSelect(adjustedEvent);\n      }\n    },\n    onEsc: showDrop ? function (event) {\n      closeDrop(); // we have to stop both synthetic events and native events\n      // drop and layer should not close by pressing esc on this\n      // input\n\n      event.stopPropagation();\n      event.nativeEvent.stopImmediatePropagation();\n    } : undefined,\n    onTab: showDrop ? closeDrop : undefined,\n    onUp: showDrop && suggestions && suggestions.length > 0 && activeSuggestionIndex ? function (event) {\n      onPreviousSuggestion(event);\n    } : undefined,\n    onDown: suggestions && suggestions.length > 0 ? function (event) {\n      if (!showDrop) {\n        openDrop();\n      } else {\n        onNextSuggestion(event);\n      }\n    } : undefined,\n    onKeyDown: onKeyDown\n  }, /*#__PURE__*/React.createElement(StyledTextInput, _extends({\n    \"aria-label\": a11yTitle,\n    ref: inputRef,\n    id: id,\n    name: name,\n    autoComplete: \"off\",\n    plain: plain,\n    placeholder: typeof placeholder === 'string' ? placeholder : undefined,\n    icon: icon,\n    reverse: reverse,\n    focus: focus,\n    textAlign: textAlign\n  }, rest, extraProps, {\n    defaultValue: renderLabel(defaultValue),\n    value: renderLabel(value),\n    readOnly: readOnly,\n    onFocus: function onFocus(event) {\n      setFocus(true);\n\n      if (suggestions && suggestions.length > 0) {\n        announce(messages.suggestionsExist);\n        openDrop();\n      }\n\n      if (_onFocus) _onFocus(event);\n    },\n    onBlur: function onBlur(event) {\n      setFocus(false);\n      if (_onBlur) _onBlur(event);\n    },\n    onChange: readOnly ? undefined : function (event) {\n      setValue(event.target.value);\n      if (onChange) onChange(event);\n    }\n  }))), drop);\n});\nTextInput.displayName = 'TextInput';\nvar TextInputDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  TextInputDoc = require('./doc').doc(TextInput);\n}\n\nvar TextInputWrapper = TextInputDoc || TextInput;\nexport { TextInputWrapper as TextInput };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { Children, cloneElement, forwardRef, useContext, useState } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { defaultProps } from '../../default-props';\nimport { focusStyle, parseMetricToNum } from '../../utils';\nimport { Box } from '../Box';\nimport { CheckBox } from '../CheckBox';\nimport { CheckBoxGroup } from '../CheckBoxGroup';\nimport { RadioButtonGroup } from '../RadioButtonGroup';\nimport { Text } from '../Text';\nimport { TextInput } from '../TextInput';\nimport { FormContext } from '../Form/FormContext';\nvar grommetInputNames = ['TextInput', 'Select', 'MaskedInput', 'TextArea', 'DateInput'];\nvar grommetInputPadNames = ['CheckBox', 'CheckBoxGroup', 'RadioButtonGroup', 'RangeInput'];\n\nvar isGrommetInput = function isGrommetInput(comp) {\n  return comp && (grommetInputNames.indexOf(comp.displayName) !== -1 || grommetInputPadNames.indexOf(comp.displayName) !== -1);\n};\n\nvar FormFieldBox = styled(Box).withConfig({\n  displayName: \"FormField__FormFieldBox\",\n  componentId: \"m9hood-0\"\n})([\"\", \" \", \"\"], function (props) {\n  return props.focus && focusStyle({\n    justBorder: true\n  });\n}, function (props) {\n  return props.theme.formField && props.theme.formField.extend;\n});\nvar FormFieldContentBox = styled(Box).withConfig({\n  displayName: \"FormField__FormFieldContentBox\",\n  componentId: \"m9hood-1\"\n})([\"\", \"\"], function (props) {\n  return props.focus && focusStyle({\n    justBorder: true\n  });\n});\nvar StyledMessageContainer = styled(Box).withConfig({\n  displayName: \"FormField__StyledMessageContainer\",\n  componentId: \"m9hood-2\"\n})([\"\", \"\"], function (props) {\n  return props.messageType && props.theme.formField[props.messageType].container && props.theme.formField[props.messageType].container.extend;\n});\n\nvar Message = function Message(_ref) {\n  var error = _ref.error,\n      info = _ref.info,\n      message = _ref.message,\n      type = _ref.type,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"error\", \"info\", \"message\", \"type\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n\n  if (message) {\n    var icon;\n    var containerProps;\n\n    if (type) {\n      icon = theme.formField[type] && theme.formField[type].icon;\n      containerProps = theme.formField[type] && theme.formField[type].container;\n    }\n\n    var messageContent;\n    if (typeof message === 'string') messageContent = /*#__PURE__*/React.createElement(Text, rest, message);else messageContent = /*#__PURE__*/React.createElement(Box, rest, message);\n    return icon || containerProps ? /*#__PURE__*/React.createElement(StyledMessageContainer, _extends({\n      direction: \"row\",\n      messageType: type\n    }, containerProps), icon && /*#__PURE__*/React.createElement(Box, {\n      flex: false\n    }, icon), messageContent) : messageContent;\n  }\n\n  return null;\n};\n\nvar Input = function Input(_ref2) {\n  var component = _ref2.component,\n      disabled = _ref2.disabled,\n      invalid = _ref2.invalid,\n      name = _ref2.name,\n      _onChange = _ref2.onChange,\n      rest = _objectWithoutPropertiesLoose(_ref2, [\"component\", \"disabled\", \"invalid\", \"name\", \"onChange\"]);\n\n  var formContext = useContext(FormContext);\n\n  var _formContext$useFormI = formContext.useFormInput(name, rest.value),\n      value = _formContext$useFormI[0],\n      setValue = _formContext$useFormI[1];\n\n  var InputComponent = component || TextInput; // Grommet input components already check for FormContext\n  // and, using their `name`, end up calling the useFormInput.setValue()\n  // already. For custom components, we expect they will call\n  // this onChange() and we'll call setValue() here, primarily\n  // for backwards compatibility.\n\n  var extraProps = isGrommetInput(InputComponent) ? {\n    focusIndicator: false,\n    onChange: _onChange,\n    plain: true\n  } : {\n    value: value,\n    onChange: function onChange(event) {\n      setValue(event.value !== undefined ? event.value : event.target.value);\n      if (_onChange) _onChange(event);\n    }\n  };\n  return /*#__PURE__*/React.createElement(InputComponent, _extends({\n    name: name,\n    disabled: disabled,\n    \"aria-invalid\": invalid || undefined\n  }, rest, extraProps));\n};\n\nvar FormField = /*#__PURE__*/forwardRef(function (_ref3, ref) {\n  var children = _ref3.children,\n      className = _ref3.className,\n      component = _ref3.component,\n      contentProps = _ref3.contentProps,\n      disabled = _ref3.disabled,\n      errorProp = _ref3.error,\n      help = _ref3.help,\n      htmlFor = _ref3.htmlFor,\n      infoProp = _ref3.info,\n      label = _ref3.label,\n      margin = _ref3.margin,\n      name = _ref3.name,\n      _onBlur = _ref3.onBlur,\n      _onFocus = _ref3.onFocus,\n      pad = _ref3.pad,\n      required = _ref3.required,\n      style = _ref3.style,\n      validate = _ref3.validate,\n      rest = _objectWithoutPropertiesLoose(_ref3, [\"children\", \"className\", \"component\", \"contentProps\", \"disabled\", \"error\", \"help\", \"htmlFor\", \"info\", \"label\", \"margin\", \"name\", \"onBlur\", \"onFocus\", \"pad\", \"required\", \"style\", \"validate\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  var formContext = useContext(FormContext);\n\n  var _formContext$useFormF = formContext.useFormField({\n    error: errorProp,\n    info: infoProp,\n    name: name,\n    required: required,\n    validate: validate\n  }),\n      error = _formContext$useFormF.error,\n      info = _formContext$useFormF.info,\n      inForm = _formContext$useFormF.inForm,\n      contextOnBlur = _formContext$useFormF.onBlur;\n\n  var _useState = useState(),\n      focus = _useState[0],\n      setFocus = _useState[1];\n\n  var formFieldTheme = theme.formField;\n  var themeBorder = formFieldTheme.border; // This is here for backwards compatibility. In case the child is a grommet\n  // input component, set plain and focusIndicator props, if they aren't\n  // already set.\n\n  var wantContentPad = component && (component === CheckBox || component === CheckBoxGroup || component === RadioButtonGroup);\n  var contents = themeBorder && children && Children.map(children, function (child) {\n    if (child && child.type && grommetInputPadNames.indexOf(child.type.displayName) !== -1) {\n      wantContentPad = true;\n    }\n\n    if (child && child.type && grommetInputNames.indexOf(child.type.displayName) !== -1 && child.props.plain === undefined && child.props.focusIndicator === undefined) {\n      return /*#__PURE__*/cloneElement(child, {\n        plain: true,\n        focusIndicator: false\n      });\n    }\n\n    return child;\n  }) || children; // put rest on container, unless we use internal Input\n\n  var containerRest = rest;\n\n  if (inForm) {\n    if (!contents) containerRest = {};\n    contents = contents || /*#__PURE__*/React.createElement(Input, _extends({\n      component: component,\n      disabled: disabled,\n      invalid: !!error,\n      name: name,\n      label: component === CheckBox ? label : undefined\n    }, rest));\n  }\n\n  var themeContentProps = _extends({}, formFieldTheme.content);\n\n  if (!pad && !wantContentPad) {\n    themeContentProps.pad = undefined;\n  }\n\n  if (themeBorder && themeBorder.position === 'inner') {\n    if (error && formFieldTheme.error) {\n      themeContentProps.background = formFieldTheme.error.background;\n    } else if (disabled && formFieldTheme.disabled) {\n      themeContentProps.background = formFieldTheme.disabled.background;\n    }\n  }\n\n  if (!themeBorder) {\n    contents = /*#__PURE__*/React.createElement(Box, _extends({}, themeContentProps, contentProps), contents);\n  }\n\n  var borderColor;\n\n  if (disabled && formFieldTheme.disabled.border && formFieldTheme.disabled.border.color) {\n    borderColor = formFieldTheme.disabled.border.color;\n  } else if (error && themeBorder && themeBorder.error.color) {\n    borderColor = themeBorder.error.color || 'status-critical';\n  } else if (focus && formFieldTheme.focus && formFieldTheme.focus.border && formFieldTheme.focus.border.color) {\n    borderColor = formFieldTheme.focus.border.color;\n  } else {\n    borderColor = themeBorder && themeBorder.color || 'border';\n  }\n\n  var labelStyle = _extends({}, formFieldTheme.label);\n\n  if (disabled) {\n    labelStyle.color = formFieldTheme.disabled && formFieldTheme.disabled.label ? formFieldTheme.disabled.label.color : labelStyle.color;\n  }\n\n  var abut;\n  var abutMargin;\n  var outerStyle = style;\n\n  if (themeBorder) {\n    var innerProps = themeBorder.position === 'inner' ? {\n      border: _extends({}, themeBorder, {\n        side: themeBorder.side || 'bottom',\n        color: borderColor\n      }),\n      round: formFieldTheme.round,\n      focus: focus\n    } : {};\n    contents = /*#__PURE__*/React.createElement(FormFieldContentBox, _extends({}, themeContentProps, innerProps, contentProps), contents);\n    var mergedMargin = margin || formFieldTheme.margin;\n    abut = themeBorder.position === 'outer' && (themeBorder.side === 'all' || themeBorder.side === 'horizontal' || !themeBorder.side) && !(mergedMargin && (typeof mergedMargin === 'string' && mergedMargin !== 'none' || mergedMargin.bottom && mergedMargin.bottom !== 'none' || mergedMargin.horizontal && mergedMargin.horizontal !== 'none'));\n\n    if (abut) {\n      // marginBottom is set to overlap adjacent fields\n      abutMargin = {\n        bottom: '-1px'\n      };\n\n      if (margin) {\n        abutMargin = margin;\n      } else if (themeBorder.size) {\n        // if the user defines a margin,\n        // then the default margin below will be overridden\n        abutMargin = {\n          bottom: \"-\" + parseMetricToNum(theme.global.borderSize[themeBorder.size] || themeBorder.size) + \"px\"\n        };\n      }\n\n      outerStyle = _extends({\n        position: focus ? 'relative' : undefined,\n        zIndex: focus ? 10 : undefined\n      }, style);\n    }\n  }\n\n  var outerBackground;\n\n  if (themeBorder && themeBorder.position === 'outer') {\n    if (error && formFieldTheme.error && formFieldTheme.error.background) {\n      outerBackground = formFieldTheme.error.background;\n    } else if (focus && formFieldTheme.focus && formFieldTheme.focus.background && formFieldTheme.focus.background.color) {\n      outerBackground = formFieldTheme.focus.background.color;\n    } else if (disabled && formFieldTheme.disabled && formFieldTheme.disabled.background) {\n      outerBackground = formFieldTheme.disabled.background;\n    }\n  }\n\n  var outerProps = themeBorder && themeBorder.position === 'outer' ? {\n    border: _extends({}, themeBorder, {\n      color: borderColor\n    }),\n    round: formFieldTheme.round,\n    focus: focus\n  } : {};\n  return /*#__PURE__*/React.createElement(FormFieldBox, _extends({\n    ref: ref,\n    className: className,\n    background: outerBackground,\n    margin: abut ? abutMargin : margin || _extends({}, formFieldTheme.margin)\n  }, outerProps, {\n    style: outerStyle,\n    onFocus: function onFocus(event) {\n      setFocus(true);\n      if (_onFocus) _onFocus(event);\n    },\n    onBlur: function onBlur(event) {\n      setFocus(false);\n      if (contextOnBlur) contextOnBlur(event);\n      if (_onBlur) _onBlur(event);\n    }\n  }, containerRest), label && component !== CheckBox || help ? /*#__PURE__*/React.createElement(React.Fragment, null, label && component !== CheckBox && /*#__PURE__*/React.createElement(Text, _extends({\n    as: \"label\",\n    htmlFor: htmlFor\n  }, labelStyle), label), /*#__PURE__*/React.createElement(Message, _extends({\n    message: help\n  }, formFieldTheme.help))) : undefined, contents, /*#__PURE__*/React.createElement(Message, _extends({\n    type: \"error\",\n    message: error\n  }, formFieldTheme.error)), /*#__PURE__*/React.createElement(Message, _extends({\n    type: \"info\",\n    message: info\n  }, formFieldTheme.info)));\n});\nFormField.displayName = 'FormField';\nvar FormFieldDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  FormFieldDoc = require('./doc').doc(FormField);\n}\n\nvar FormFieldWrapper = FormFieldDoc || FormField;\nexport { FormFieldWrapper as FormField };"],"sourceRoot":""}