(this["webpackJsonpadriancleung-app"]=this["webpackJsonpadriancleung-app"]||[]).push([[9],{112:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"e",(function(){return c})),a.d(t,"f",(function(){return u})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return o}));var n=200,r="INVALID_TOKEN",c="VALID_TOKEN",u=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,l="https://api.adrianleung.dev",o="https://api.github.com"},118:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return p})),a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return f}));var n=a(119),r=a.n(n),c=a(122),u=a(123),l=a.n(u),o=a(112),i=a(120),s=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("".concat(o.a,"/auth/login"),{email:t,password:a});case 2:return(n=e.sent).data.accessToken&&localStorage.setItem("user",JSON.stringify(n.data)),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("".concat(o.a,"/auth/verify"),null,{headers:Object(i.a)()});case 3:if(e.sent.data.userId!==d().id){e.next=8;break}return e.abrupt("return",o.e);case 8:return e.abrupt("return",o.c);case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",o.c);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),p=function(){localStorage.removeItem("user")},d=function(){return JSON.parse(localStorage.getItem("user"))},f=function(){if(!d())return o.c;m().then((function(e){return e}))}},120:function(e,t,a){"use strict";var n=a(118);t.a=function(){var e=Object(n.b)();return e&&e.accessToken?{"x-access-token":e.accessToken}:{}}},128:function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return p})),a.d(t,"a",(function(){return d}));var n=a(119),r=a.n(n),c=a(122),u=a(123),l=a.n(u),o=a(112),i=a(120),s=function(){var e=Object(c.a)(r.a.mark((function e(t,a,n,c){var u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("".concat(o.a,"/mail"),{firstName:t,lastName:a,email:n,message:c});case 3:return u=e.sent,e.abrupt("return",u);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,n,r){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("".concat(o.a,"/resume"));case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("".concat(o.a,"/mail"),{headers:Object(i.a)()});case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("".concat(o.a,"/about"));case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},287:function(e,t,a){"use strict";a.r(t);var n=a(121),r=a(0),c=a.n(r),u=a(101),l=a(243),o=a(7),i=a(164),s=a(271),m=a(272),p=a(273),d=a(274),f=a(275),b=function(e){var t=e.name,a=e.email,n=e.message,r=Object(i.useMediaQuery)({maxWidth:1224});return c.a.createElement(s.a,null,r?c.a.createElement(m.a,{scope:"col",border:"bottom"},t," <",a,">",c.a.createElement("br",null),c.a.createElement("br",null),n):c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,{scope:"col",border:"bottom"},t),c.a.createElement(m.a,{scope:"col",border:"bottom"},a),c.a.createElement(m.a,{scope:"col",border:"bottom"},n)))},g=function(e){var t=e.data,a=Object(i.useMediaQuery)({maxWidth:1224});return c.a.createElement(p.a,null,c.a.createElement(d.a,null,c.a.createElement(s.a,null,a?c.a.createElement(m.a,{scope:"col",border:"bottom"},c.a.createElement("strong",null,"Messages")):c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,{scope:"col",border:"bottom"},c.a.createElement("strong",null,"Name")),c.a.createElement(m.a,{scope:"col",border:"bottom"},c.a.createElement("strong",null,"Email")),c.a.createElement(m.a,{scope:"col",border:"bottom"},c.a.createElement("strong",null,"Message"))))),c.a.createElement(f.a,null,t.map((function(e,t){return c.a.createElement(b,{key:t,name:e.name,email:e.email,message:e.message})}))))},E=a(276),h=a(296),v=a(166),x=a(288),w=a(279),O=a(277),j=a(278),k=a(280),y=a(281),S=function(e){return c.a.createElement(E.a,{responsive:!1,width:"300px",round:{corner:"right",size:"small"},background:"#0984e3",elevation:"xlarge",pad:{left:"medium",right:"large",top:"medium"},header:c.a.createElement(u.a,{width:"100%",direction:"row",gap:"small",justify:"center",align:"center",wrap:!0},c.a.createElement(h.a,{background:"#DADADA",round:"full"},c.a.createElement(O.a,{size:"medium"})),c.a.createElement(v.a,{textAlign:"center",margin:{vertical:"small"}},"Adrian Leung")),footer:c.a.createElement(x.a,{plain:!0,alignSelf:"start",icon:c.a.createElement(j.a,{size:"medium",style:{padding:"10px"}}),href:"/logout",label:"Logout"})},c.a.createElement(u.a,{width:"100%"},c.a.createElement(w.a,{gap:"large"},c.a.createElement(u.a,null,c.a.createElement(x.a,{plain:!0,alignSelf:"start",icon:c.a.createElement(k.a,null),label:"Mail"})),c.a.createElement(u.a,null,c.a.createElement(x.a,{plain:!0,alignSelf:"start",icon:c.a.createElement(y.a,null),label:"Settings"})))))},z=a(282),A=a(297),N=function(e){return c.a.createElement(u.a,{fill:"horizontal"},c.a.createElement(z.a,{animate:!0,round:{corner:"bottom",size:"medium"},style:{zIndex:0,position:"fixed",width:"100%"}},c.a.createElement(A.a,{label:"Admin",background:"#0984e3"},c.a.createElement(u.a,{pad:{horizontal:"medium"},background:"#0984e3",height:"xsmall",gap:"medium",direction:"row",justify:"start",align:"center",wrap:!0},c.a.createElement(h.a,{background:"#DADADA",round:"full"},c.a.createElement(O.a,{size:"medium"})),c.a.createElement(v.a,{textAlign:"center",margin:{vertical:"small"}},"Adrian Leung")),c.a.createElement(u.a,{background:"#0984e3",height:"xxsmall",pad:{horizontal:"medium"}},c.a.createElement(x.a,{plain:!0,alignSelf:"start",icon:c.a.createElement(k.a,null),label:"Mail"})),c.a.createElement(u.a,{background:"#0984e3",height:"xxsmall",pad:{horizontal:"medium"}},c.a.createElement(x.a,{plain:!0,alignSelf:"start",icon:c.a.createElement(y.a,null),label:"Settings"})),c.a.createElement(u.a,{background:"#0984e3",height:"xxsmall",round:{corner:"bottom",size:"medium"},pad:{horizontal:"medium"}},c.a.createElement(x.a,{plain:!0,alignSelf:"start",icon:c.a.createElement(j.a,{size:"medium"}),href:"/logout",label:"Logout"})))))},D=a(118),I=a(128),M=a(112);t.default=function(e){var t=Object(r.useState)(!1),a=Object(n.a)(t,2),s=a[0],m=a[1],p=Object(r.useState)([]),d=Object(n.a)(p,2),f=d[0],b=d[1],E=Object(r.useState)(!0),h=Object(n.a)(E,2),v=h[0],x=h[1],w=Object(i.useMediaQuery)({maxWidth:1224});return Object(r.useEffect)((function(){Object(D.a)()===M.c?m(!0):Object(I.b)().then((function(e){var t=[];e.data.mail.forEach((function(e){t.push({name:"".concat(e.firstName," ").concat(e.lastName),email:e.email,message:e.message})})),b(t)})).catch((function(e){return console.error(e)})).finally((function(){return x(!1)}))}),[]),s?c.a.createElement(o.a,{to:"/login"}):c.a.createElement(u.a,{width:"100vw",height:"100vh",gap:w?"medium":"small",direction:w?"column":"row"},w?c.a.createElement(N,null):c.a.createElement(S,null),c.a.createElement(u.a,{width:"100%",height:"100%",pad:"small",margin:{top:w?"50px":null}},c.a.createElement(l.a,{margin:"small"},"Mail"),!v&&c.a.createElement(g,{data:f})))}}}]);
//# sourceMappingURL=9.a3ab8683.chunk.js.map